/* Grid Layout Polyfill - v1.11.0 - 2013-04-08 - Polyfill for IE10 grid layout -ms-grid.
* https://github.com/codler/Grid-Layout-Polyfill
* Copyright (c) 2013 Han Lin Yap http://yap.nu; http://creativecommons.org/licenses/by-sa/3.0/ */
(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());function cleanCss(a){a=a.replace(/\/\*((?:[^\*]|\*[^\/])*)\*\//g,"");a=a.replace(/\n/g,"");a=a.replace(/\r/g,"");a=a.replace(/\@import[^;]*;/g,"");return a}function cssTextToObj(h){h=cleanCss(h);var c=h.split(/({[^{}]*})/);if(c[c.length-1].indexOf("}")==-1){c.pop()}var d=[];var a=false;var j;var f=0;var g;var e=0;while(e<c.length){if(e%2===0){var b=$.trim(c[e]);if(a){if(b.indexOf("}")!=-1){b=b.substr(1);c[e]=b;g=c.splice(f,e-f);g.shift();g.unshift(j[1]);d[d.length-1].attributes=cssTextToObj(g.join(""));a=false;e=f;continue}}else{if(b.indexOf("{")!=-1){j=b.split("{");b=$.trim(j[0]);a=true;f=e}if(b!==""){d.push({selector:b})}}}else{if(!a){d[d.length-1].attributes=cssTextAttributeToObj(c[e].substr(1,c[e].length-2))}}e++}return d}function cssTextAttributeToObj(c){if(typeof c!="string"){c=""}c=cleanCss(c);var b;c=c.replace(/url\(([^)]+)\)/g,function(d){return d.replace(/;/g,"[cssFinalize]")});b=c.split(/(:[^;]*;?)/);b.pop();var a={};$.map(b,function(e,d){if(d%2==1){a[$.trim(b[d-1])]=$.trim(e.substr(1).replace(";","").replace(/url\(([^)]+)\)/g,function(f){return f.replace(/\[cssFinalize\]/g,";")}))}});return a}function cssObjToText(c,b,a){var d="";b=b||false;a=a||1;$.each(c,function(e,f){if(b){d+=Array(a).join("  ")}d+=f.selector+"{";if($.isArray(f.attributes)){if(b){d+="\r\n"+Array(a).join("  ")}d+=$.cssFinalize.cssObjToText(f.attributes,b,a+1)}else{$.each(f.attributes,function(h,g){if(b){d+="\r\n"+Array(a+1).join("  ")}d+=h+":"+g+";"});if(b){d+="\r\n"+Array(a).join("  ")}}d+="}";if(b){d+="\r\n"}});return d}function cssObjToTextAttribute(c,b,a){var d="";b=b||false;a=a||1;$.each(c,function(f,e){if(b){d+="\r\n"+Array(a+1).join("  ")}d+=f+":"+e+";"});return d}(function(c){c.support.gridLayout=document.createElement("div").style.msGridRowAlign==="";var a="function"!==typeof Array.prototype.reduce;if(c.support.gridLayout||a){c.fn.gridLayout=function(){return this};return}function b(d){console.log(d);console.trace()}jQuery(function(l){l.fn.gridLayout=function(B){return this.each(function(){var C=this;if(B=="refresh"){var D=false;l.each(k,function(E,F){l(F.selector).each(function(){if(C==this){y(C,F);D=true;return false}});if(D){return false}})}else{if(typeof B==="object"){if(B.resize){l(C).on("gridlayoutresize",function(){B.resize.call(C)})}}}})};function y(F,G){g(G.tracks);var E=true;if(l(G.selector).data("recent-height")){var C=l(G.selector).data("recent-height");if(parseFloat(l(G.selector).outerHeight())!=C){E=false;l(G.selector).each(function(){var J=l(this);var K=p(J);K.sort(j);var I=x(u,K.pop());var H=cssTextAttributeToObj(J.data("old-style")||J.attr("style"));if(H.height){I=l.extend(true,I,H)}var L=cssTextAttributeToObj(l(this).attr("style"));if(I){if(I.height&&!L.height){L.height=I.height}}l(this).data("old-style",cssObjToTextAttribute(L))})}}var B=r(G.tracks,1,1,G.tracks.length,G.tracks[0].length);l(G.selector).css({position:"relative","box-sizing":"border-box",width:(G.attributes.display=="-ms-grid")?"100%":B.x,height:B.y});l(G.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:G.tracks[0][0].x,height:G.tracks[0][0].y}).each(function(K,L){var H=l(this);var P=p(H);P.sort(j);var J=x(u,P.pop());var O=cssTextAttributeToObj(H.data("old-style")||H.attr("style"));if(O["-ms-grid-row"]||O["-ms-grid-column"]||O["-ms-grid-column-span"]||O["-ms-grid-row-span"]){J=l.extend(true,J,O)}if(!J){return true}var S=J["-ms-grid-row"]||1;var I=J["-ms-grid-column"]||1;var Q=J["-ms-grid-column-span"]||1;var M=J["-ms-grid-row-span"]||1;var R=r(G.tracks,S,I,M,Q);var N=r(G.tracks,1,1,S-1,I-1);l(this).css({width:R.x,})});e(l(G.selector).outerWidth(),G.tracks);if(cssTextAttributeToObj(l(G.selector).data("old-style")).height){var D=z(parseFloat(cssTextAttributeToObj(l(G.selector).data("old-style")).height),G.tracks);l(G.selector).css({height:D});l(G.selector).data("recent-height",D)}else{var D=t(l(G.selector).outerHeight(),G.tracks);l(G.selector).css({height:D});l(G.selector).data("recent-height",D)}l(G.selector).children().each(function(K,L){var H=l(this);var P=p(H);P.sort(j);var J=x(u,P.pop());var O=cssTextAttributeToObj(H.data("old-style")||H.attr("style"));if(O["-ms-grid-row"]||O["-ms-grid-column"]||O["-ms-grid-column-span"]||O["-ms-grid-row-span"]){J=l.extend(true,J,O)}if(!J){return true}var S=J["-ms-grid-row"]||1;var I=J["-ms-grid-column"]||1;var Q=J["-ms-grid-column-span"]||1;var M=J["-ms-grid-row-span"]||1;var R=r(G.tracks,S,I,M,Q);var N=r(G.tracks,1,1,S-1,I-1);l(this).css({top:N.y,left:N.x,width:R.x,height:R.y})})}function g(B){for(var C=0;C<B.length;C++){for(var D=0;D<B[C].length;D++){if(B[C][D].frX){B[C][D].x=B[C][D].frX;delete B[C][D].frX}if(B[C][D].frY){B[C][D].y=B[C][D].frY;delete B[C][D].frY}}}}var s=/(^|\s)(?:\w+)/g;var w=/\.[\w\d_-]+/g;var A=/#[\w\d_-]+/g;var m=function(B){var D=B.match(s);var F=D?D.length:0;D=B.match(w);var E=D?D.length:0;D=B.match(A);var C=D?D.length:0;return F+10*E+100*C};var j=function(C,B){C=m(C);B=m(B);if(C<B){return -1}else{if(C>B){return 1}else{return 0}}};var n=function(B){return B.reduce(function(D,C){return parseFloat(D)+parseFloat(C)},0)};var o=l("style").map(function(){return l(this).html()}).get().join("");var u=cssTextToObj(o);var k=d(u);l.expr[":"]["has-style"]=l.expr.createPseudo(function(B){return function(F){var D=cssTextAttributeToObj(l(F).attr("style"));var C=cssTextAttributeToObj(B);var E=false;l.each(D,function(G,H){l.each(C,function(J,I){if(G==J&&H==I){E=true;return false}});if(E){return false}});return E}});l('[style]:has-style("display:-ms-grid"), [style]:has-style("display:grid"), [data-ms-grid]').each(function(){var B=cssTextAttributeToObj(l(this).attr("style"));if(!B.display){B.display="-ms-grid"}k.push({selector:this,attributes:B,tracks:h(this,B)})});function d(C){var B=[];l.each(C,function(D,E){if(E.attributes){if(E.attributes.display=="-ms-grid"||E.attributes.display=="grid"){B.push({selector:E.selector,attributes:E.attributes,tracks:h(E.selector,E.attributes)})}}});return B}function h(B,D){var F=D["-ms-grid-columns"]||"auto";var E=D["-ms-grid-rows"]||"auto";F=F.toLowerCase().split(" ");E=E.toLowerCase().split(" ");l(B).children().each(function(J,K){var G=l(this);var N=p(G);N.sort(j);var I=x(u,N.pop());var M=cssTextAttributeToObj(G.attr("style"));if(M["-ms-grid-row"]||M["-ms-grid-column"]||M["-ms-grid-column-span"]||M["-ms-grid-row-span"]){I=l.extend(true,I,M)}if(!I){return true}var P=I["-ms-grid-row"]||1;var H=I["-ms-grid-column"]||1;var O=I["-ms-grid-column-span"]||1;var L=I["-ms-grid-row-span"]||1;if(F.length<H){F[H]="auto"}if(F.length<(H-1)+O){F[(H-1)+O]="auto"}if(E.length<P){E[P]="auto"}if(E.length<(P-1)+L){E[(P-1)+L]="auto"}});var C=[];l.each(E,function(G,H){C[G]=[];l.each(F,function(J,I){C[G][J]={x:(typeof I!=="undefined"&&v(I))?I:"auto",y:(typeof H!=="undefined"&&v(H))?H:"auto"}})});return C}function v(B){return/^(\d+(\.\d+)?(fr|px)|auto)$/.test(B)}b(k);l.each(k,function(D,E){var B=r(E.tracks,1,1,E.tracks.length,E.tracks[0].length);l(E.selector).each(function(){if(!l(this).data("old-style")){var H=l(this);var I=p(H);I.sort(j);var G=x(u,I.pop());var F=cssTextAttributeToObj(H.data("old-style")||H.attr("style"));if(F.width||F.height){G=l.extend(true,G,F)}var J=cssTextAttributeToObj(l(this).attr("style"));if(G){if(G.width&&!J.width){J.width=G.width}if(G.height&&!J.height){J.height=G.height}}l(this).data("old-style",cssObjToTextAttribute(J))}});l(E.selector).css({position:"relative","box-sizing":"border-box",width:(E.attributes.display=="-ms-grid")?"100%":B.x,height:B.y});l(E.selector).children().each(function(){if(!l(this).data("old-style")){l(this).data("old-style",l(this).attr("style"))}});l(E.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:E.tracks[0][0].x,height:E.tracks[0][0].y}).each(function(J,L){var H=l(this);var I=p(H);I.sort(j);var G=x(u,I.pop());var F=cssTextAttributeToObj(H.data("old-style")||H.attr("style"));if(F["-ms-grid-row"]||F["-ms-grid-column"]){G=l.extend(true,G,F)}if(!G){return true}var M=G["-ms-grid-row"]||1;var K=G["-ms-grid-column"]||1;if(E.tracks[M-1][K-1].item){E.tracks[M-1][K-1].item.add(H)}else{E.tracks[M-1][K-1].item=H}});l(E.selector).children().each(function(I,J){var F=l(this);var N=p(F);N.sort(j);var H=x(u,N.pop());var M=cssTextAttributeToObj(F.data("old-style")||F.attr("style"));if(M["-ms-grid-row"]||M["-ms-grid-column"]||M["-ms-grid-column-span"]||M["-ms-grid-row-span"]){H=l.extend(true,H,M)}if(!H){return true}var Q=H["-ms-grid-row"]||1;var G=H["-ms-grid-column"]||1;var O=H["-ms-grid-column-span"]||1;var K=H["-ms-grid-row-span"]||1;var P=r(E.tracks,Q,G,K,O);var L=r(E.tracks,1,1,Q-1,G-1);l(this).css({width:P.x,})});e(l(E.selector).outerWidth(),E.tracks);if(cssTextAttributeToObj(l(E.selector).data("old-style")).height){var C=z(parseFloat(cssTextAttributeToObj(l(E.selector).data("old-style")).height),E.tracks);l(E.selector).css({height:C});l(E.selector).data("recent-height",C)}else{var C=t(l(E.selector).outerHeight(),E.tracks);l(E.selector).css({height:C});l(E.selector).data("recent-height",C)}l(E.selector).children().each(function(I,J){var F=l(this);var N=p(F);N.sort(j);var H=x(u,N.pop());var M=cssTextAttributeToObj(F.data("old-style")||F.attr("style"));if(M["-ms-grid-row"]||M["-ms-grid-column"]||M["-ms-grid-column-span"]||M["-ms-grid-row-span"]){H=l.extend(true,H,M)}if(!H){return true}var Q=H["-ms-grid-row"]||1;var G=H["-ms-grid-column"]||1;var O=H["-ms-grid-column-span"]||1;var K=H["-ms-grid-row-span"]||1;var P=r(E.tracks,Q,G,K,O);var L=r(E.tracks,1,1,Q-1,G-1);l(this).css({top:L.y,left:L.x,width:P.x,height:P.y})})});var f;function i(){l.each(k,function(B,C){l(C.selector).gridLayout("refresh").trigger("gridlayoutresize")})}function q(){return l(document).height()>l(window).height()}l(window).on("resize",function(C,D){var B=this;clearTimeout(f);f=setTimeout(function(){var E=false;if(q()){E=true}i();if(!q()&&E){l(B).trigger("resize")}},100)});function e(D,I){var L=[];var H=[];for(var K=0;K<I[0].length;K++){var G=[0];var E=[0];for(var B=0;B<I.length;B++){var F=0;if(I[B][K].x.indexOf("fr")!==-1){var O=parseFloat(I[B][K].x);if(I[B][K].item){I[B][K].item.width("auto");F=Math.max.apply(Math,I[B][K].item.map(function(){return l(this).outerWidth(true)}).get())}G.push(F/O)}else{if(I[B][K].x.indexOf("auto")!==-1){if(I[B][K].item){I[B][K].item.width("auto");F=Math.max.apply(Math,I[B][K].item.map(function(){return l(this).outerWidth(true)}).get())}E.push(F)}}}L[K]=Math.max.apply(Math,G);H[K]=Math.max.apply(Math,E)}var M=Math.max.apply(Math,L);var C=[];var N=D;for(var K=0;K<I[0].length;K++){if(I[0][K].x.indexOf("fr")!==-1){var O=parseFloat(I[0][K].x);C.push(O)}else{if(I[0][K].x.indexOf("px")!==-1){N-=parseFloat(I[0][K].x)}}}N-=n(H);var J=n(C);for(var B=0;B<I.length;B++){for(var K=0;K<I[0].length;K++){if(I[B][K].x.indexOf("fr")!==-1){I[B][K].frX=I[B][K].x;if(N>0){I[B][K].x=""+N/(J/parseFloat(I[B][K].x))}else{I[B][K].x=""+0}}else{if(I[B][K].x.indexOf("auto")!==-1){I[B][K].frX=I[B][K].x;I[B][K].x=""+H[K]}}}}return(N<0)?D+Math.abs(N):D}function z(N,H){var F=[];var O=[];for(var C=0;C<H.length;C++){var L=[0];var G=[0];for(var J=0;J<H[0].length;J++){var B=0;if(H[C][J].y.indexOf("fr")!==-1){var M=parseFloat(H[C][J].y);if(H[C][J].item){H[C][J].item.height("auto");B=Math.max.apply(Math,H[C][J].item.map(function(){return l(this).outerHeight(true)}).get())}L.push(B/M)}else{if(H[C][J].y.indexOf("auto")!==-1){if(H[C][J].item){H[C][J].item.height("auto");B=Math.max.apply(Math,H[C][J].item.map(function(){return l(this).outerHeight(true)}).get())}G.push(B)}}}F[C]=Math.max.apply(Math,L);O[C]=Math.max.apply(Math,G)}var E=Math.max.apply(Math,F);var D=[];var K=N;for(var C=0;C<H.length;C++){if(H[C][0].y.indexOf("fr")!==-1){var M=parseFloat(H[C][0].y);D.push(M)}else{if(H[C][0].y.indexOf("px")!==-1){K-=parseFloat(H[C][0].y)}}}K-=n(O);var I=n(D);for(var J=0;J<H[0].length;J++){for(var C=0;C<H.length;C++){if(H[C][J].y.indexOf("fr")!==-1){H[C][J].frY=H[C][J].y;if(K>0){H[C][J].y=""+K/(I/parseFloat(H[C][J].y))}else{H[C][J].y=""+0}}else{if(H[C][J].y.indexOf("auto")!==-1){H[C][J].frY=H[C][J].y;H[C][J].y=""+O[C]}}}}return(K<0)?N+Math.abs(K):N}function t(P,I){var F=[];var Q=[];for(var C=0;C<I.length;C++){var N=[0];var G=[0];for(var L=0;L<I[0].length;L++){var B=0;if(I[C][L].y.indexOf("fr")!==-1){var O=parseFloat(I[C][L].y);if(I[C][L].item){I[C][L].item.height("auto");B=Math.max.apply(Math,I[C][L].item.map(function(){return l(this).outerHeight(true)}).get())}N.push(B/O)}else{if(I[C][L].y.indexOf("auto")!==-1){if(I[C][L].item){I[C][L].item.height("auto");B=Math.max.apply(Math,I[C][L].item.map(function(){return l(this).outerHeight(true)}).get())}G.push(B)}}}F[C]=Math.max.apply(Math,N);Q[C]=Math.max.apply(Math,G)}var E=Math.max.apply(Math,F);var D=[];var K=P;var M=0;var H=0;for(var C=0;C<I.length;C++){if(I[C][0].y.indexOf("fr")!==-1){var O=parseFloat(I[C][0].y);D.push(O);M+=E*O}else{if(I[C][0].y.indexOf("px")!==-1){K-=parseFloat(I[C][0].y)}else{if(I[C][0].y.indexOf("auto")!==-1){H+=Q[C]}}}}K+=M;var J=n(D);for(var L=0;L<I[0].length;L++){for(var C=0;C<I.length;C++){if(I[C][L].y.indexOf("fr")!==-1){I[C][L].frY=I[C][L].y;I[C][L].y=""+K/(J/parseFloat(I[C][L].y))}else{if(I[C][L].y.indexOf("auto")!==-1){I[C][L].frY=I[C][L].y;I[C][L].y=""+Q[C]}}}}return P+M+H}function x(D,B){var C;l.each(D,function(E,F){if(F.selector==B){C=F.attributes;return false}});return l.extend(true,{},C)}function r(B,H,E,D,C){H--;E--;var G={x:0,y:0};for(var F=0;F<D;F++){if(/^\d+(\.\d+)?(px)?$/.test(B[H+F][E].y)){G.y+=parseFloat(B[H+F][E].y)}}for(var I=0;I<C;I++){if(/^\d+(\.\d+)?(px)?$/.test(B[H][E+I].x)){G.x+=parseFloat(B[H][E+I].x)}}return G}function p(E){var D=[];for(var B=0;B<document.styleSheets.length;B++){var G=document.styleSheets[B].cssRules;for(var C=0;C<G.length;C++){try{if(E.is(G[C].selectorText)){D.push(G[C].selectorText)}}catch(F){}}}return D}})})(jQuery);