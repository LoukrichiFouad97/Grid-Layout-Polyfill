/* Grid Layout Polyfill - v1.22.0 - 2014-04-01 - Polyfill for IE10 grid layout -ms-grid.
* https://github.com/codler/Grid-Layout-Polyfill
* Copyright (c) 2014 Han Lin Yap http://yap.nu; MIT license */
(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());(function(){var g=document.styleSheets;var e=[];var a=[];var d=/(^|\s)(?:\w+)/g;var f=/\.[\w\d_-]+/g;var c=/#[\w\d_-]+/g;var b=CSSAnalyzer={specificity:function(h){var j=h.match(d);var l=j?j.length:0;j=h.match(f);var k=j?j.length:0;j=h.match(c);var i=j?j.length:0;return l+10*k+100*i},sortSpecificity:function(i,h){if(i.specificity<h.specificity){return -1}else{if(i.specificity>h.specificity){return 1}else{return 0}}},each:function(i,j){for(var h in i){if(i.hasOwnProperty(h)){j.call(i,h,i[h])}}},indexOf:function(m,k){if(m==null){return -1}var j=0,h=m.length;for(;j<h;j++){if(m[j]===k){return j}}return -1},trim:function(h){return(h==null)?"":"".trim.call(h)},clean:function(h){if(typeof h!=="string"){return""}h=h.replace(/\/\*((?:[^\*]|\*[^\/])*)\*\//g,"");h=h.replace(/\n/g,"");h=h.replace(/\r/g,"");h=h.replace(/\@import[^;]*;/g,"");return h},textToObj:function(p){p=b.clean(p);var k=p.split(/({[^{}]*})/);if(k[k.length-1].indexOf("}")==-1){k.pop()}var l=[];var h=false;var q;var n=0;var o;var m=0;while(m<k.length){if(m%2===0){var j=b.trim(k[m]);if(h){if(j.indexOf("}")!=-1){j=j.substr(1);k[m]=j;o=k.splice(n,m-n);o.shift();o.unshift(q[1]);l[l.length-1].attributes=b.textToObj(o.join(""));h=false;m=n;continue}}else{if(j.indexOf("{")!=-1){q=j.split("{");j=b.trim(q[0]);h=true;n=m}if(j!==""){l.push({selector:j})}}}else{if(!h){l[l.length-1].attributes=b.textAttrToObj(k[m].substr(1,k[m].length-2))}}m++}return l},textAttrToObj:function(p){p=b.clean(p);if(!p){return{}}var m;p=p.replace(/url\(([^)]+)\)/g,function(i){return i.replace(/;/g,"[CSSAnalyzer]")});m=p.split(/(:[^;]*;?)/);m.pop();var k={};for(var j=0,h=m.length;j<h;j++){if(j%2==1){var o=b.trim(m[j-1]);var n=m[j];k[o]=b.trim(n.substr(1).replace(";","").replace(/url\(([^)]+)\)/g,function(i){return i.replace(/\[CSSAnalyzer\]/g,";")}))}}return k},objToText:function(j,i,h){var k="";i=i||false;h=h||1;j.forEach(function(l){if(i){k+=Array(h).join("  ")}k+=l.selector+"{";if(Array.isArray(l.attributes)){if(i){k+="\r\n"+Array(h).join("  ")}k+=b.objToText(l.attributes,i,h+1)}else{b.each(l.attributes,function(n,m){if(i){k+="\r\n"+Array(h+1).join("  ")}k+=n+":"+m+";"});if(i){k+="\r\n"+Array(h).join("  ")}}k+="}";if(i){k+="\r\n"}});return k},objToTextAttr:function(j,i,h){var k="";i=i||false;h=h||1;b.each(j,function(m,l){if(i){k+="\r\n"+Array(h+1).join("  ")}k+=m+":"+l+";"});return k},findDefinedSelectors:function(m){var l;if((l=e.indexOf(m))!==-1){return a[l].slice(0)}var k=[];for(var h=0,j=g.length;h<j;h++){var p=g[h].cssRules;if(p){for(var l=0,o=p.length;l<o;l++){try{if(b.indexOf(document.querySelectorAll(p[l].selectorText),m)!==-1){k.push({selector:p[l].selectorText,specificity:b.specificity(p[l].selectorText)})}}catch(n){}}}}k.sort(b.sortSpecificity);e.push(m);a.push(k);return k.slice(0)}}})();(function(d){if(d.gridLayout){return}d.support.gridLayout=document.createElement("div").style.msGridRowAlign==="";var a="function"!==typeof Array.prototype.reduce;var f=[];var e=[];if(d.support.gridLayout||a){d.fn.gridLayout=function(){return this};d.gridLayout=d.noop();return}var b=console.log.bind(console);var c=[];d.gridLayout=function(g){if(g=="clearCache"){cacheFindDefinedSelectorsKey=[];cacheFindDefinedSelectors=[];f=[];e=[]}else{return c}};jQuery(function(n){n.fn.gridLayout=function(B){return this.each(function(){var C=this;if(B=="refresh"){var D=false;n.each(c,function(E,F){n(F.selector).each(function(){if(C==this){if(!F.hasInit){z(v,F)}k(F.tracks);var H=true;if(n(F.selector).data("recent-height")){var G=n(F.selector).data("recent-height");if(parseFloat(n(F.selector).outerHeight())!=G){H=false;n(F.selector).each(function(){var J=n(this);var I=g(v,J,CSSAnalyzer.textAttrToObj(J.data("old-style")));var K=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(I.height&&!K.height){K.height=I.height}n(this).data("old-style",CSSAnalyzer.objToTextAttr(K))})}}y(C,F);D=true;return false}});if(D){return false}})}else{if(typeof B==="object"){if(B.resize){n(C).on("gridlayoutresize",function(){B.resize.call(C)})}}}})};function y(G,H){var E=n(H.selector).outerHeight();var C=s(H.tracks,1,1,H.tracks.length,H.tracks[0].length);n(H.selector).css({position:"relative","box-sizing":"border-box",width:(H.attributes.display=="-ms-grid"||H.attributes.display=="grid")?"auto":C.x,height:C.y});n(H.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:H.tracks[0][0].x,height:H.tracks[0][0].y}).each(function(L,M){var I=n(this);var K=g(v,I,CSSAnalyzer.textAttrToObj(I.data("old-style")));var R=K["-ms-grid-row"]||1;var J=K["-ms-grid-column"]||1;var P=K["-ms-grid-column-span"]||1;var N=K["-ms-grid-row-span"]||1;var Q=s(H.tracks,R,J,N,P);var O=s(H.tracks,1,1,R-1,J-1);n(this).css({width:Q.x})});i(n(H.selector).outerWidth(),H.tracks);var B=CSSAnalyzer.textAttrToObj(n(H.selector).data("old-style"));if(B.height&&/^\d+(\.\d+)?px$/.test(B.height)){var F=A(parseFloat(B.height),H.tracks);n(H.selector).css({height:F});n(H.selector).data("recent-height",F)}else{if(B.height&&/^\d+(\.\d+)?%$/.test(B.height)){var D=c.filter(function(I){return !!n(H.selector).has(I.selector).length});D.forEach(function(K){var J=n(K.selector);var I=g(v,J,CSSAnalyzer.textAttrToObj(J.data("old-style")));K.oldAttributes=I;n(K.selector).height("auto");if(!K.hasInit){n(K.selector).gridLayout("refresh")}});var F=A(E*parseFloat(B.height)/100,H.tracks);F=Math.min(F,E*parseFloat(B.height)/100);n(H.selector).css({height:F});n(H.selector).data("recent-height",F);D.forEach(function(J){var I=J.oldAttributes.height;n(J.selector).height(I)})}else{var F=t(n(H.selector).outerHeight(),H.tracks);n(H.selector).css({height:F});n(H.selector).data("recent-height",F)}}n(H.selector).children().each(function(L,M){var I=n(this);var K=g(v,I,CSSAnalyzer.textAttrToObj(I.data("old-style")));var R=K["-ms-grid-row"]||1;var J=K["-ms-grid-column"]||1;var P=K["-ms-grid-column-span"]||1;var N=K["-ms-grid-row-span"]||1;var Q=s(H.tracks,R,J,N,P);var O=s(H.tracks,1,1,R-1,J-1);n(this).css({top:O.y,left:O.x,width:Q.x,height:Q.y})})}function k(B){for(var C=0;C<B.length;C++){for(var D=0;D<B[C].length;D++){if(B[C][D].frX){if(w(B[C][D].frX)){B[C][D].x=B[C][D].frX;delete B[C][D].frX}else{b("Invalid value have been inserted to the grid layout")}}if(B[C][D].frY){if(w(B[C][D].frY)){B[C][D].y=B[C][D].frY;delete B[C][D].frY}else{b("Invalid value have been inserted to the grid layout")}}}}}var o=function(B){return B.reduce(function(D,C){return parseFloat(D)+parseFloat(C)},0)};var q=n("style").map(function(){return n(this).html()}).get().join("");var v=CSSAnalyzer.textToObj(q);c=h(v);n.expr[":"]["has-style"]=n.expr.createPseudo(function(B){return function(F){var D=CSSAnalyzer.textAttrToObj(n(F).attr("style"));var C=CSSAnalyzer.textAttrToObj(B);var E=false;n.each(D,function(G,H){n.each(C,function(J,I){if(G==J&&H==I){E=true;return false}});if(E){return false}});return E}});n('[style]:has-style("display:-ms-grid"), [style]:has-style("display:grid"), [data-ms-grid]').each(function(){var B=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(!B.display){B.display="-ms-grid"}c.push({selector:this,attributes:B,tracks:l(this,B)})});function h(C){var B=[];n.each(C,function(D,E){if(E.attributes){if(E.attributes.display=="-ms-grid"||E.attributes.display=="grid"){B.push({selector:E.selector,attributes:E.attributes,tracks:l(E.selector,E.attributes)})}}});return B}function l(B,D){var F=D["-ms-grid-columns"]||"auto";var E=D["-ms-grid-rows"]||"auto";F=F.toLowerCase().split(" ");E=E.toLowerCase().split(" ");n(B).children().each(function(J,M){var H=n(this);var G=g(v,H,CSSAnalyzer.textAttrToObj(H.attr("style")));var N=G["-ms-grid-row"]||1;var L=G["-ms-grid-column"]||1;var I=G["-ms-grid-column-span"]||1;var K=G["-ms-grid-row-span"]||1;if(F.length<L){F[L]="auto"}if(F.length<(L-1)+I){F[(L-1)+I]="auto"}if(E.length<N){E[N]="auto"}if(E.length<(N-1)+K){E[(N-1)+K]="auto"}});var C=[];n.each(E,function(G,H){C[G]=[];n.each(F,function(J,I){C[G][J]={x:(typeof I!=="undefined"&&w(I))?I:"auto",y:(typeof H!=="undefined"&&w(H))?H:"auto"}})});n(B).children().each(function(I,K){var H=n(this);var G=g(v,H,CSSAnalyzer.textAttrToObj(H.attr("style")));var L=G["-ms-grid-row"]||1;var J=G["-ms-grid-column"]||1;if(C[L-1][J-1].item){C[L-1][J-1].item=C[L-1][J-1].item.add(H)}else{C[L-1][J-1].item=H}});return C}function w(B){return/^(\d+(\.\d+)?(fr|px)|auto)$/.test(B)}function z(B,C){n(C.selector).each(function(){if(!n(this).data("old-style")){var E=n(this);var D=g(B,E,CSSAnalyzer.textAttrToObj(E.data("old-style")));var F=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(D.width&&!F.width){F.width=D.width}if(D.height&&!F.height){F.height=D.height}n(this).data("old-style",CSSAnalyzer.objToTextAttr(F))}});n(C.selector).children().each(function(){if(!n(this).data("old-style")){n(this).data("old-style",n(this).attr("style"))}});C.hasInit=true}var p=function(C,B){return n(C.selector).parents().length-n(B.selector).parents().length};c.sort(p);n.each(c,function(B,C){z(v,C);y(n(C.selector),C)});var j;function m(){n.each(c,function(B,C){n(C.selector).gridLayout("refresh").trigger("gridlayoutresize")})}function r(){return n(document).height()>n(window).height()}n(window).on("resize",function(C,D){var B=this;clearTimeout(j);j=setTimeout(function(){var E=false;if(r()){E=true}m();if(!r()&&E){n(B).trigger("resize")}},100)});function u(B){var C=B.style.display;B.style.display="none";B.offsetWidth;B.style.display=C}function i(D,I){var L=[];var H=[];for(var K=0;K<I[0].length;K++){var G=[0];var E=[0];for(var B=0;B<I.length;B++){var F=0;if(I[B][K].x.indexOf("fr")!==-1){var O=parseFloat(I[B][K].x);if(I[B][K].item){I[B][K].item.width("auto");F=Math.max.apply(Math,I[B][K].item.map(function(){return n(this).outerWidth(true)}).get())}G.push(F/O)}else{if(I[B][K].x.indexOf("auto")!==-1){if(I[B][K].item){I[B][K].item.width("auto");u(I[B][K].item[0]);F=Math.max.apply(Math,I[B][K].item.map(function(){return n(this).outerWidth(true)}).get())}E.push(F)}}}L[K]=Math.max.apply(Math,G);H[K]=Math.max.apply(Math,E)}var M=Math.max.apply(Math,L);var C=[];var N=D;for(var K=0;K<I[0].length;K++){if(I[0][K].x.indexOf("fr")!==-1){var O=parseFloat(I[0][K].x);C.push(O)}else{if(I[0][K].x.indexOf("px")!==-1){N-=parseFloat(I[0][K].x)}}}N-=o(H);var J=o(C);for(var B=0;B<I.length;B++){for(var K=0;K<I[0].length;K++){if(I[B][K].x.indexOf("fr")!==-1){I[B][K].frX=I[B][K].x;if(N>0){I[B][K].x=""+N/(J/parseFloat(I[B][K].x))}else{I[B][K].x=""+0}}else{if(I[B][K].x.indexOf("auto")!==-1){I[B][K].frX=I[B][K].x;I[B][K].x=""+H[K]}}}}return(N<0)?D+Math.abs(N):D}function A(N,H){var F=[];var O=[];for(var C=0;C<H.length;C++){var L=[0];var G=[0];for(var J=0;J<H[0].length;J++){var B=0;if(H[C][J].y.indexOf("fr")!==-1){var M=parseFloat(H[C][J].y);if(H[C][J].item){H[C][J].item.height("auto");B=Math.max.apply(Math,H[C][J].item.map(function(){return n(this).outerHeight(true)}).get())}L.push(B/M)}else{if(H[C][J].y.indexOf("auto")!==-1){if(H[C][J].item){H[C][J].item.height("auto");u(H[C][J].item[0]);B=Math.max.apply(Math,H[C][J].item.map(function(){return n(this).outerHeight(true)}).get())}G.push(B)}}}F[C]=Math.max.apply(Math,L);O[C]=Math.max.apply(Math,G)}var E=Math.max.apply(Math,F);var D=[];var K=N;for(var C=0;C<H.length;C++){if(H[C][0].y.indexOf("fr")!==-1){var M=parseFloat(H[C][0].y);D.push(M)}else{if(H[C][0].y.indexOf("px")!==-1){K-=parseFloat(H[C][0].y)}}}K-=o(O);var I=o(D);for(var J=0;J<H[0].length;J++){for(var C=0;C<H.length;C++){if(H[C][J].y.indexOf("fr")!==-1){H[C][J].frY=H[C][J].y;if(K>0){H[C][J].y=""+K/(I/parseFloat(H[C][J].y))}else{H[C][J].y=""+0}}else{if(H[C][J].y.indexOf("auto")!==-1){H[C][J].frY=H[C][J].y;H[C][J].y=""+O[C]}}}}return(K<0)?N+Math.abs(K):N}function t(P,I){var F=[];var Q=[];for(var C=0;C<I.length;C++){var N=[0];var G=[0];for(var L=0;L<I[0].length;L++){var B=0;if(I[C][L].y.indexOf("fr")!==-1){var O=parseFloat(I[C][L].y);if(I[C][L].item){I[C][L].item.height("auto");B=Math.max.apply(Math,I[C][L].item.map(function(){return n(this).outerHeight(true)}).get())}N.push(B/O)}else{if(I[C][L].y.indexOf("auto")!==-1){if(I[C][L].item){I[C][L].item.height("auto");u(I[C][L].item[0]);B=Math.max.apply(Math,I[C][L].item.map(function(){return n(this).outerHeight(true)}).get())}G.push(B)}}}F[C]=Math.max.apply(Math,N);Q[C]=Math.max.apply(Math,G)}var E=Math.max.apply(Math,F);var D=[];var K=P;var M=0;var H=0;for(var C=0;C<I.length;C++){if(I[C][0].y.indexOf("fr")!==-1){var O=parseFloat(I[C][0].y);D.push(O);M+=E*O}else{if(I[C][0].y.indexOf("px")!==-1){K-=parseFloat(I[C][0].y)}else{if(I[C][0].y.indexOf("auto")!==-1){H+=Q[C]}}}}K+=M;var J=o(D);for(var L=0;L<I[0].length;L++){for(var C=0;C<I.length;C++){if(I[C][L].y.indexOf("fr")!==-1){I[C][L].frY=I[C][L].y;I[C][L].y=""+K/(J/parseFloat(I[C][L].y))}else{if(I[C][L].y.indexOf("auto")!==-1){I[C][L].frY=I[C][L].y;I[C][L].y=""+Q[C]}}}}return P+M+H}function g(G,F,B){B=B||{};var E;if((E=f.indexOf(F.get(0)))!==-1){return n.extend(true,{},e[E],B)}var D=CSSAnalyzer.findDefinedSelectors(F.get(0));var C=x(G,D);f.push(F.get(0));e.push(C);return n.extend(true,{},C,B)}function x(D,B){var C={};n.each(B,function(F,E){n.each(D,function(G,H){if(H.selector==E.selector){n.extend(true,C,H.attributes)}})});return C}function s(B,H,E,D,C){H--;E--;var G={x:0,y:0};for(var F=0;F<D;F++){if(/^\d+(\.\d+)?(px)?$/.test(B[H+F][E].y)){G.y+=parseFloat(B[H+F][E].y)}}for(var I=0;I<C;I++){if(/^\d+(\.\d+)?(px)?$/.test(B[H][E+I].x)){G.x+=parseFloat(B[H][E+I].x)}}return G}})})(jQuery);