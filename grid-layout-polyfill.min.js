/* Grid Layout Polyfill - v1.19.0 - 2013-04-29 - Polyfill for IE10 grid layout -ms-grid.
* https://github.com/codler/Grid-Layout-Polyfill
* Copyright (c) 2013 Han Lin Yap http://yap.nu; MIT license */
(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());(function(){var g=document.styleSheets;var e=[];var a=[];var d=/(^|\s)(?:\w+)/g;var f=/\.[\w\d_-]+/g;var c=/#[\w\d_-]+/g;var b=CSSAnalyzer={specificity:function(h){var j=h.match(d);var l=j?j.length:0;j=h.match(f);var k=j?j.length:0;j=h.match(c);var i=j?j.length:0;return l+10*k+100*i},sortSpecificity:function(i,h){if(i.specificity<h.specificity){return -1}else{if(i.specificity>h.specificity){return 1}else{return 0}}},each:function(i,j){for(var h in i){if(i.hasOwnProperty(h)){j.call(i,h,i[h])}}},indexOf:function(m,k){if(m==null){return -1}var j=0,h=m.length;for(;j<h;j++){if(m[j]===k){return j}}return -1},trim:function(h){return(h==null)?"":"".trim.call(h)},clean:function(h){if(typeof h!=="string"){return""}h=h.replace(/\/\*((?:[^\*]|\*[^\/])*)\*\//g,"");h=h.replace(/\n/g,"");h=h.replace(/\r/g,"");h=h.replace(/\@import[^;]*;/g,"");return h},textToObj:function(p){p=b.clean(p);var k=p.split(/({[^{}]*})/);if(k[k.length-1].indexOf("}")==-1){k.pop()}var l=[];var h=false;var q;var n=0;var o;var m=0;while(m<k.length){if(m%2===0){var j=b.trim(k[m]);if(h){if(j.indexOf("}")!=-1){j=j.substr(1);k[m]=j;o=k.splice(n,m-n);o.shift();o.unshift(q[1]);l[l.length-1].attributes=b.textToObj(o.join(""));h=false;m=n;continue}}else{if(j.indexOf("{")!=-1){q=j.split("{");j=b.trim(q[0]);h=true;n=m}if(j!==""){l.push({selector:j})}}}else{if(!h){l[l.length-1].attributes=b.textAttrToObj(k[m].substr(1,k[m].length-2))}}m++}return l},textAttrToObj:function(p){p=b.clean(p);if(!p){return{}}var m;p=p.replace(/url\(([^)]+)\)/g,function(i){return i.replace(/;/g,"[CSSAnalyzer]")});m=p.split(/(:[^;]*;?)/);m.pop();var k={};for(var j=0,h=m.length;j<h;j++){if(j%2==1){var o=b.trim(m[j-1]);var n=m[j];k[o]=b.trim(n.substr(1).replace(";","").replace(/url\(([^)]+)\)/g,function(i){return i.replace(/\[CSSAnalyzer\]/g,";")}))}}return k},objToText:function(j,i,h){var k="";i=i||false;h=h||1;j.forEach(function(l){if(i){k+=Array(h).join("  ")}k+=l.selector+"{";if(Array.isArray(l.attributes)){if(i){k+="\r\n"+Array(h).join("  ")}k+=b.objToText(l.attributes,i,h+1)}else{b.each(l.attributes,function(n,m){if(i){k+="\r\n"+Array(h+1).join("  ")}k+=n+":"+m+";"});if(i){k+="\r\n"+Array(h).join("  ")}}k+="}";if(i){k+="\r\n"}});return k},objToTextAttr:function(j,i,h){var k="";i=i||false;h=h||1;b.each(j,function(m,l){if(i){k+="\r\n"+Array(h+1).join("  ")}k+=m+":"+l+";"});return k},findDefinedSelectors:function(m){var l;if((l=e.indexOf(m))!==-1){return a[l].slice(0)}var k=[];for(var h=0,j=g.length;h<j;h++){var p=g[h].cssRules;if(p){for(var l=0,o=p.length;l<o;l++){try{if(b.indexOf(document.querySelectorAll(p[l].selectorText),m)!==-1){k.push({selector:p[l].selectorText,specificity:b.specificity(p[l].selectorText)})}}catch(n){}}}}k.sort(b.sortSpecificity);e.push(m);a.push(k);return k.slice(0)}}})();(function(d){if(d.gridLayout){return}d.support.gridLayout=document.createElement("div").style.msGridRowAlign==="";var a="function"!==typeof Array.prototype.reduce;var f=[];var e=[];if(d.support.gridLayout||a){d.fn.gridLayout=function(){return this};d.gridLayout=d.noop();return}function b(g){console.log(g)}var c=[];d.gridLayout=function(g){if(g=="clearCache"){cacheFindDefinedSelectorsKey=[];cacheFindDefinedSelectors=[];f=[];e=[]}else{return c}};jQuery(function(n){n.fn.gridLayout=function(z){return this.each(function(){var A=this;if(z=="refresh"){var B=false;n.each(c,function(C,D){n(D.selector).each(function(){if(A==this){k(D.tracks);var F=true;if(n(D.selector).data("recent-height")){var E=n(D.selector).data("recent-height");if(parseFloat(n(D.selector).outerHeight())!=E){F=false;n(D.selector).each(function(){var H=n(this);var G=h(u,H,CSSAnalyzer.textAttrToObj(H.data("old-style")));var I=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(G.height&&!I.height){I.height=G.height}n(this).data("old-style",CSSAnalyzer.objToTextAttr(I))})}}x(A,D);B=true;return false}});if(B){return false}})}else{if(typeof z==="object"){if(z.resize){n(A).on("gridlayoutresize",function(){z.resize.call(A)})}}}})};function x(C,D){var A=s(D.tracks,1,1,D.tracks.length,D.tracks[0].length);n(D.selector).css({position:"relative","box-sizing":"border-box",width:(D.attributes.display=="-ms-grid"||D.attributes.display=="grid")?"auto":A.x,height:A.y});n(D.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:D.tracks[0][0].x,height:D.tracks[0][0].y}).each(function(H,I){var E=n(this);var G=h(u,E,CSSAnalyzer.textAttrToObj(E.data("old-style")));var N=G["-ms-grid-row"]||1;var F=G["-ms-grid-column"]||1;var L=G["-ms-grid-column-span"]||1;var J=G["-ms-grid-row-span"]||1;var M=s(D.tracks,N,F,J,L);var K=s(D.tracks,1,1,N-1,F-1);n(this).css({width:M.x,})});i(n(D.selector).outerWidth(),D.tracks);var z=CSSAnalyzer.textAttrToObj(n(D.selector).data("old-style"));if(z.height&&/^\d+(\.\d+)?px$/.test(z.height)){var B=y(parseFloat(z.height),D.tracks);n(D.selector).css({height:B});n(D.selector).data("recent-height",B)}else{var B=t(n(D.selector).outerHeight(),D.tracks);n(D.selector).css({height:B});n(D.selector).data("recent-height",B)}n(D.selector).children().each(function(H,I){var E=n(this);var G=h(u,E,CSSAnalyzer.textAttrToObj(E.data("old-style")));var N=G["-ms-grid-row"]||1;var F=G["-ms-grid-column"]||1;var L=G["-ms-grid-column-span"]||1;var J=G["-ms-grid-row-span"]||1;var M=s(D.tracks,N,F,J,L);var K=s(D.tracks,1,1,N-1,F-1);n(this).css({top:K.y,left:K.x,width:M.x,height:M.y})})}function k(z){for(var A=0;A<z.length;A++){for(var B=0;B<z[A].length;B++){if(z[A][B].frX){z[A][B].x=z[A][B].frX;delete z[A][B].frX}if(z[A][B].frY){z[A][B].y=z[A][B].frY;delete z[A][B].frY}}}}var o=function(z){return z.reduce(function(B,A){return parseFloat(B)+parseFloat(A)},0)};var q=n("style").map(function(){return n(this).html()}).get().join("");var u=CSSAnalyzer.textToObj(q);c=g(u);n.expr[":"]["has-style"]=n.expr.createPseudo(function(z){return function(D){var B=CSSAnalyzer.textAttrToObj(n(D).attr("style"));var A=CSSAnalyzer.textAttrToObj(z);var C=false;n.each(B,function(E,F){n.each(A,function(H,G){if(E==H&&F==G){C=true;return false}});if(C){return false}});return C}});n('[style]:has-style("display:-ms-grid"), [style]:has-style("display:grid"), [data-ms-grid]').each(function(){var z=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(!z.display){z.display="-ms-grid"}c.push({selector:this,attributes:z,tracks:l(this,z)})});function g(A){var z=[];n.each(A,function(B,C){if(C.attributes){if(C.attributes.display=="-ms-grid"||C.attributes.display=="grid"){z.push({selector:C.selector,attributes:C.attributes,tracks:l(C.selector,C.attributes)})}}});return z}function l(z,B){var D=B["-ms-grid-columns"]||"auto";var C=B["-ms-grid-rows"]||"auto";D=D.toLowerCase().split(" ");C=C.toLowerCase().split(" ");n(z).children().each(function(H,K){var F=n(this);var E=h(u,F,CSSAnalyzer.textAttrToObj(F.attr("style")));var L=E["-ms-grid-row"]||1;var J=E["-ms-grid-column"]||1;var G=E["-ms-grid-column-span"]||1;var I=E["-ms-grid-row-span"]||1;if(D.length<J){D[J]="auto"}if(D.length<(J-1)+G){D[(J-1)+G]="auto"}if(C.length<L){C[L]="auto"}if(C.length<(L-1)+I){C[(L-1)+I]="auto"}});var A=[];n.each(C,function(E,F){A[E]=[];n.each(D,function(H,G){A[E][H]={x:(typeof G!=="undefined"&&v(G))?G:"auto",y:(typeof F!=="undefined"&&v(F))?F:"auto"}})});n(z).children().each(function(G,I){var F=n(this);var E=h(u,F,CSSAnalyzer.textAttrToObj(F.attr("style")));var J=E["-ms-grid-row"]||1;var H=E["-ms-grid-column"]||1;if(A[J-1][H-1].item){A[J-1][H-1].item=A[J-1][H-1].item.add(F)}else{A[J-1][H-1].item=F}});return A}function v(z){return/^(\d+(\.\d+)?(fr|px)|auto)$/.test(z)}b(c);var p=function(A,z){return n(A.selector).parents().length-n(z.selector).parents().length};c.sort(p);n.each(c,function(z,A){n(A.selector).each(function(){if(!n(this).data("old-style")){var C=n(this);var B=h(u,C,CSSAnalyzer.textAttrToObj(C.data("old-style")));var D=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(B.width&&!D.width){D.width=B.width}if(B.height&&!D.height){D.height=B.height}n(this).data("old-style",CSSAnalyzer.objToTextAttr(D))}});n(A.selector).children().each(function(){if(!n(this).data("old-style")){n(this).data("old-style",n(this).attr("style"))}});x(n(A.selector),A)});var j;function m(){n.each(c,function(z,A){n(A.selector).gridLayout("refresh").trigger("gridlayoutresize")})}function r(){return n(document).height()>n(window).height()}n(window).on("resize",function(A,B){var z=this;clearTimeout(j);j=setTimeout(function(){var C=false;if(r()){C=true}m();if(!r()&&C){n(z).trigger("resize")}},100)});function i(B,G){var J=[];var F=[];for(var I=0;I<G[0].length;I++){var E=[0];var C=[0];for(var z=0;z<G.length;z++){var D=0;if(G[z][I].x.indexOf("fr")!==-1){var M=parseFloat(G[z][I].x);if(G[z][I].item){G[z][I].item.width("auto");D=Math.max.apply(Math,G[z][I].item.map(function(){return n(this).outerWidth(true)}).get())}E.push(D/M)}else{if(G[z][I].x.indexOf("auto")!==-1){if(G[z][I].item){G[z][I].item.width("auto");D=Math.max.apply(Math,G[z][I].item.map(function(){return n(this).outerWidth(true)}).get())}C.push(D)}}}J[I]=Math.max.apply(Math,E);F[I]=Math.max.apply(Math,C)}var K=Math.max.apply(Math,J);var A=[];var L=B;for(var I=0;I<G[0].length;I++){if(G[0][I].x.indexOf("fr")!==-1){var M=parseFloat(G[0][I].x);A.push(M)}else{if(G[0][I].x.indexOf("px")!==-1){L-=parseFloat(G[0][I].x)}}}L-=o(F);var H=o(A);for(var z=0;z<G.length;z++){for(var I=0;I<G[0].length;I++){if(G[z][I].x.indexOf("fr")!==-1){G[z][I].frX=G[z][I].x;if(L>0){G[z][I].x=""+L/(H/parseFloat(G[z][I].x))}else{G[z][I].x=""+0}}else{if(G[z][I].x.indexOf("auto")!==-1){G[z][I].frX=G[z][I].x;G[z][I].x=""+F[I]}}}}return(L<0)?B+Math.abs(L):B}function y(L,F){var D=[];var M=[];for(var A=0;A<F.length;A++){var J=[0];var E=[0];for(var H=0;H<F[0].length;H++){var z=0;if(F[A][H].y.indexOf("fr")!==-1){var K=parseFloat(F[A][H].y);if(F[A][H].item){F[A][H].item.height("auto");z=Math.max.apply(Math,F[A][H].item.map(function(){return n(this).outerHeight(true)}).get())}J.push(z/K)}else{if(F[A][H].y.indexOf("auto")!==-1){if(F[A][H].item){F[A][H].item.height("auto");z=Math.max.apply(Math,F[A][H].item.map(function(){return n(this).outerHeight(true)}).get())}E.push(z)}}}D[A]=Math.max.apply(Math,J);M[A]=Math.max.apply(Math,E)}var C=Math.max.apply(Math,D);var B=[];var I=L;for(var A=0;A<F.length;A++){if(F[A][0].y.indexOf("fr")!==-1){var K=parseFloat(F[A][0].y);B.push(K)}else{if(F[A][0].y.indexOf("px")!==-1){I-=parseFloat(F[A][0].y)}}}I-=o(M);var G=o(B);for(var H=0;H<F[0].length;H++){for(var A=0;A<F.length;A++){if(F[A][H].y.indexOf("fr")!==-1){F[A][H].frY=F[A][H].y;if(I>0){F[A][H].y=""+I/(G/parseFloat(F[A][H].y))}else{F[A][H].y=""+0}}else{if(F[A][H].y.indexOf("auto")!==-1){F[A][H].frY=F[A][H].y;F[A][H].y=""+M[A]}}}}return(I<0)?L+Math.abs(I):L}function t(N,G){var D=[];var O=[];for(var A=0;A<G.length;A++){var L=[0];var E=[0];for(var J=0;J<G[0].length;J++){var z=0;if(G[A][J].y.indexOf("fr")!==-1){var M=parseFloat(G[A][J].y);if(G[A][J].item){G[A][J].item.height("auto");z=Math.max.apply(Math,G[A][J].item.map(function(){return n(this).outerHeight(true)}).get())}L.push(z/M)}else{if(G[A][J].y.indexOf("auto")!==-1){if(G[A][J].item){G[A][J].item.height("auto");z=Math.max.apply(Math,G[A][J].item.map(function(){return n(this).outerHeight(true)}).get())}E.push(z)}}}D[A]=Math.max.apply(Math,L);O[A]=Math.max.apply(Math,E)}var C=Math.max.apply(Math,D);var B=[];var I=N;var K=0;var F=0;for(var A=0;A<G.length;A++){if(G[A][0].y.indexOf("fr")!==-1){var M=parseFloat(G[A][0].y);B.push(M);K+=C*M}else{if(G[A][0].y.indexOf("px")!==-1){I-=parseFloat(G[A][0].y)}else{if(G[A][0].y.indexOf("auto")!==-1){F+=O[A]}}}}I+=K;var H=o(B);for(var J=0;J<G[0].length;J++){for(var A=0;A<G.length;A++){if(G[A][J].y.indexOf("fr")!==-1){G[A][J].frY=G[A][J].y;G[A][J].y=""+I/(H/parseFloat(G[A][J].y))}else{if(G[A][J].y.indexOf("auto")!==-1){G[A][J].frY=G[A][J].y;G[A][J].y=""+O[A]}}}}return N+K+F}function h(E,D,z){z=z||{};var C;if((C=f.indexOf(D.get(0)))!==-1){return n.extend(true,{},e[C],z)}var B=CSSAnalyzer.findDefinedSelectors(D.get(0));var A=w(E,B);f.push(D.get(0));e.push(A);return n.extend(true,{},A,z)}function w(B,z){var A={};n.each(z,function(D,C){n.each(B,function(E,F){if(F.selector==C.selector){n.extend(true,A,F.attributes)}})});return A}function s(z,F,C,B,A){F--;C--;var E={x:0,y:0};for(var D=0;D<B;D++){if(/^\d+(\.\d+)?(px)?$/.test(z[F+D][C].y)){E.y+=parseFloat(z[F+D][C].y)}}for(var G=0;G<A;G++){if(/^\d+(\.\d+)?(px)?$/.test(z[F][C+G].x)){E.x+=parseFloat(z[F][C+G].x)}}return E}})})(jQuery);