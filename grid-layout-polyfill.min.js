/* Grid Layout Polyfill - v1.14.0 - 2013-04-16 - Polyfill for IE10 grid layout -ms-grid.
* https://github.com/codler/Grid-Layout-Polyfill
* Copyright (c) 2013 Han Lin Yap http://yap.nu; MIT license */
(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());function cleanCss(a){a=a.replace(/\/\*((?:[^\*]|\*[^\/])*)\*\//g,"");a=a.replace(/\n/g,"");a=a.replace(/\r/g,"");a=a.replace(/\@import[^;]*;/g,"");return a}function cssTextToObj(h){h=cleanCss(h);var c=h.split(/({[^{}]*})/);if(c[c.length-1].indexOf("}")==-1){c.pop()}var d=[];var a=false;var j;var f=0;var g;var e=0;while(e<c.length){if(e%2===0){var b=$.trim(c[e]);if(a){if(b.indexOf("}")!=-1){b=b.substr(1);c[e]=b;g=c.splice(f,e-f);g.shift();g.unshift(j[1]);d[d.length-1].attributes=cssTextToObj(g.join(""));a=false;e=f;continue}}else{if(b.indexOf("{")!=-1){j=b.split("{");b=$.trim(j[0]);a=true;f=e}if(b!==""){d.push({selector:b})}}}else{if(!a){d[d.length-1].attributes=cssTextAttributeToObj(c[e].substr(1,c[e].length-2))}}e++}return d}function cssTextAttributeToObj(c){if(typeof c!="string"){c=""}c=cleanCss(c);var b;c=c.replace(/url\(([^)]+)\)/g,function(d){return d.replace(/;/g,"[cssFinalize]")});b=c.split(/(:[^;]*;?)/);b.pop();var a={};$.map(b,function(e,d){if(d%2==1){a[$.trim(b[d-1])]=$.trim(e.substr(1).replace(";","").replace(/url\(([^)]+)\)/g,function(f){return f.replace(/\[cssFinalize\]/g,";")}))}});return a}function cssObjToText(c,b,a){var d="";b=b||false;a=a||1;$.each(c,function(e,f){if(b){d+=Array(a).join("  ")}d+=f.selector+"{";if($.isArray(f.attributes)){if(b){d+="\r\n"+Array(a).join("  ")}d+=$.cssFinalize.cssObjToText(f.attributes,b,a+1)}else{$.each(f.attributes,function(h,g){if(b){d+="\r\n"+Array(a+1).join("  ")}d+=h+":"+g+";"});if(b){d+="\r\n"+Array(a).join("  ")}}d+="}";if(b){d+="\r\n"}});return d}function cssObjToTextAttribute(c,b,a){var d="";b=b||false;a=a||1;$.each(c,function(f,e){if(b){d+="\r\n"+Array(a+1).join("  ")}d+=f+":"+e+";"});return d}(function(f){if(f.gridLayout){return}f.support.gridLayout=document.createElement("div").style.msGridRowAlign==="";var b="function"!==typeof Array.prototype.reduce;if(f.support.gridLayout||b){f.fn.gridLayout=function(){return this};f.gridLayout=f.noop();return}function d(g){console.log(g);console.trace()}var e=[];var a=[];var c=[];f.gridLayout=function(g){if(g=="clearCache"){c=[];a=[]}else{return e}};jQuery(function(n){n.fn.gridLayout=function(E){return this.each(function(){var F=this;if(E=="refresh"){var G=false;n.each(e,function(H,I){n(I.selector).each(function(){if(F==this){B(F,I);G=true;return false}});if(G){return false}})}else{if(typeof E==="object"){if(E.resize){n(F).on("gridlayoutresize",function(){E.resize.call(F)})}}}})};function B(I,J){j(J.tracks);var H=true;if(n(J.selector).data("recent-height")){var F=n(J.selector).data("recent-height");if(parseFloat(n(J.selector).outerHeight())!=F){H=false;n(J.selector).each(function(){var M=n(this);var N=s(M);N.sort(m);var L=A(x,N.pop());var K=cssTextAttributeToObj(M.data("old-style")||M.attr("style"));if(K.height){L=n.extend(true,L,K)}var O=cssTextAttributeToObj(n(this).attr("style"));if(L){if(L.height&&!O.height){O.height=L.height}}n(this).data("old-style",cssObjToTextAttribute(O))})}}var E=u(J.tracks,1,1,J.tracks.length,J.tracks[0].length);n(J.selector).css({position:"relative","box-sizing":"border-box",width:(J.attributes.display=="-ms-grid"||J.attributes.display=="grid")?"auto":E.x,height:E.y});n(J.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:J.tracks[0][0].x,height:J.tracks[0][0].y}).each(function(N,O){var K=n(this);var S=s(K);S.sort(m);var M=A(x,S.pop());var R=cssTextAttributeToObj(K.data("old-style")||K.attr("style"));if(R["-ms-grid-row"]||R["-ms-grid-column"]||R["-ms-grid-column-span"]||R["-ms-grid-row-span"]){M=n.extend(true,M,R)}if(!M){return true}var V=M["-ms-grid-row"]||1;var L=M["-ms-grid-column"]||1;var T=M["-ms-grid-column-span"]||1;var P=M["-ms-grid-row-span"]||1;var U=u(J.tracks,V,L,P,T);var Q=u(J.tracks,1,1,V-1,L-1);n(this).css({width:U.x,})});h(n(J.selector).outerWidth(),J.tracks);if(cssTextAttributeToObj(n(J.selector).data("old-style")).height){var G=C(parseFloat(cssTextAttributeToObj(n(J.selector).data("old-style")).height),J.tracks);n(J.selector).css({height:G});n(J.selector).data("recent-height",G)}else{var G=w(n(J.selector).outerHeight(),J.tracks);n(J.selector).css({height:G});n(J.selector).data("recent-height",G)}n(J.selector).children().each(function(N,O){var K=n(this);var S=s(K);S.sort(m);var M=A(x,S.pop());var R=cssTextAttributeToObj(K.data("old-style")||K.attr("style"));if(R["-ms-grid-row"]||R["-ms-grid-column"]||R["-ms-grid-column-span"]||R["-ms-grid-row-span"]){M=n.extend(true,M,R)}if(!M){return true}var V=M["-ms-grid-row"]||1;var L=M["-ms-grid-column"]||1;var T=M["-ms-grid-column-span"]||1;var P=M["-ms-grid-row-span"]||1;var U=u(J.tracks,V,L,P,T);var Q=u(J.tracks,1,1,V-1,L-1);n(this).css({top:Q.y,left:Q.x,width:U.x,height:U.y})})}function j(E){for(var F=0;F<E.length;F++){for(var G=0;G<E[F].length;G++){if(E[F][G].frX){E[F][G].x=E[F][G].frX;delete E[F][G].frX}if(E[F][G].frY){E[F][G].y=E[F][G].frY;delete E[F][G].frY}}}}var v=/(^|\s)(?:\w+)/g;var z=/\.[\w\d_-]+/g;var D=/#[\w\d_-]+/g;var o=function(E){var G=E.match(v);var I=G?G.length:0;G=E.match(z);var H=G?G.length:0;G=E.match(D);var F=G?G.length:0;return I+10*H+100*F};var m=function(F,E){F=o(F);E=o(E);if(F<E){return -1}else{if(F>E){return 1}else{return 0}}};var p=function(E){return E.reduce(function(G,F){return parseFloat(G)+parseFloat(F)},0)};var r=n("style").map(function(){return n(this).html()}).get().join("");var x=cssTextToObj(r);e=g(x);n.expr[":"]["has-style"]=n.expr.createPseudo(function(E){return function(I){var G=cssTextAttributeToObj(n(I).attr("style"));var F=cssTextAttributeToObj(E);var H=false;n.each(G,function(J,K){n.each(F,function(M,L){if(J==M&&K==L){H=true;return false}});if(H){return false}});return H}});n('[style]:has-style("display:-ms-grid"), [style]:has-style("display:grid"), [data-ms-grid]').each(function(){var E=cssTextAttributeToObj(n(this).attr("style"));if(!E.display){E.display="-ms-grid"}e.push({selector:this,attributes:E,tracks:k(this,E)})});function g(F){var E=[];n.each(F,function(G,H){if(H.attributes){if(H.attributes.display=="-ms-grid"||H.attributes.display=="grid"){E.push({selector:H.selector,attributes:H.attributes,tracks:k(H.selector,H.attributes)})}}});return E}function k(E,G){var I=G["-ms-grid-columns"]||"auto";var H=G["-ms-grid-rows"]||"auto";I=I.toLowerCase().split(" ");H=H.toLowerCase().split(" ");n(E).children().each(function(M,N){var J=n(this);var Q=s(J);Q.sort(m);var L=A(x,Q.pop());var P=cssTextAttributeToObj(J.attr("style"));if(P["-ms-grid-row"]||P["-ms-grid-column"]||P["-ms-grid-column-span"]||P["-ms-grid-row-span"]){L=n.extend(true,L,P)}if(!L){return true}var S=L["-ms-grid-row"]||1;var K=L["-ms-grid-column"]||1;var R=L["-ms-grid-column-span"]||1;var O=L["-ms-grid-row-span"]||1;if(I.length<K){I[K]="auto"}if(I.length<(K-1)+R){I[(K-1)+R]="auto"}if(H.length<S){H[S]="auto"}if(H.length<(S-1)+O){H[(S-1)+O]="auto"}});var F=[];n.each(H,function(J,K){F[J]=[];n.each(I,function(M,L){F[J][M]={x:(typeof L!=="undefined"&&y(L))?L:"auto",y:(typeof K!=="undefined"&&y(K))?K:"auto"}})});return F}function y(E){return/^(\d+(\.\d+)?(fr|px)|auto)$/.test(E)}d(e);var q=function(F,E){return n(F.selector).parents().length-n(E.selector).parents().length};e.sort(q);n.each(e,function(G,H){var E=u(H.tracks,1,1,H.tracks.length,H.tracks[0].length);n(H.selector).each(function(){if(!n(this).data("old-style")){var K=n(this);var L=s(K);L.sort(m);var J=A(x,L.pop());var I=cssTextAttributeToObj(K.data("old-style")||K.attr("style"));if(I.width||I.height){J=n.extend(true,J,I)}var M=cssTextAttributeToObj(n(this).attr("style"));if(J){if(J.width&&!M.width){M.width=J.width}if(J.height&&!M.height){M.height=J.height}}n(this).data("old-style",cssObjToTextAttribute(M))}});n(H.selector).css({position:"relative","box-sizing":"border-box",width:(H.attributes.display=="-ms-grid"||H.attributes.display=="grid")?"auto":E.x,height:E.y});n(H.selector).children().each(function(){if(!n(this).data("old-style")){n(this).data("old-style",n(this).attr("style"))}});n(H.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:H.tracks[0][0].x,height:H.tracks[0][0].y}).each(function(M,O){var K=n(this);var L=s(K);L.sort(m);var J=A(x,L.pop());var I=cssTextAttributeToObj(K.data("old-style")||K.attr("style"));if(I["-ms-grid-row"]||I["-ms-grid-column"]){J=n.extend(true,J,I)}if(!J){return true}var P=J["-ms-grid-row"]||1;var N=J["-ms-grid-column"]||1;if(H.tracks[P-1][N-1].item){H.tracks[P-1][N-1].item.add(K)}else{H.tracks[P-1][N-1].item=K}});n(H.selector).children().each(function(L,M){var I=n(this);var Q=s(I);Q.sort(m);var K=A(x,Q.pop());var P=cssTextAttributeToObj(I.data("old-style")||I.attr("style"));if(P["-ms-grid-row"]||P["-ms-grid-column"]||P["-ms-grid-column-span"]||P["-ms-grid-row-span"]){K=n.extend(true,K,P)}if(!K){return true}var T=K["-ms-grid-row"]||1;var J=K["-ms-grid-column"]||1;var R=K["-ms-grid-column-span"]||1;var N=K["-ms-grid-row-span"]||1;var S=u(H.tracks,T,J,N,R);var O=u(H.tracks,1,1,T-1,J-1);n(this).css({width:S.x,})});h(n(H.selector).outerWidth(),H.tracks);if(cssTextAttributeToObj(n(H.selector).data("old-style")).height){var F=C(parseFloat(cssTextAttributeToObj(n(H.selector).data("old-style")).height),H.tracks);n(H.selector).css({height:F});n(H.selector).data("recent-height",F)}else{var F=w(n(H.selector).outerHeight(),H.tracks);n(H.selector).css({height:F});n(H.selector).data("recent-height",F)}n(H.selector).children().each(function(L,M){var I=n(this);var Q=s(I);Q.sort(m);var K=A(x,Q.pop());var P=cssTextAttributeToObj(I.data("old-style")||I.attr("style"));if(P["-ms-grid-row"]||P["-ms-grid-column"]||P["-ms-grid-column-span"]||P["-ms-grid-row-span"]){K=n.extend(true,K,P)}if(!K){return true}var T=K["-ms-grid-row"]||1;var J=K["-ms-grid-column"]||1;var R=K["-ms-grid-column-span"]||1;var N=K["-ms-grid-row-span"]||1;var S=u(H.tracks,T,J,N,R);var O=u(H.tracks,1,1,T-1,J-1);n(this).css({top:O.y,left:O.x,width:S.x,height:S.y})})});var i;function l(){n.each(e,function(E,F){n(F.selector).gridLayout("refresh").trigger("gridlayoutresize")})}function t(){return n(document).height()>n(window).height()}n(window).on("resize",function(F,G){var E=this;clearTimeout(i);i=setTimeout(function(){var H=false;if(t()){H=true}l();if(!t()&&H){n(E).trigger("resize")}},100)});function h(G,L){var O=[];var K=[];for(var N=0;N<L[0].length;N++){var J=[0];var H=[0];for(var E=0;E<L.length;E++){var I=0;if(L[E][N].x.indexOf("fr")!==-1){var R=parseFloat(L[E][N].x);if(L[E][N].item){L[E][N].item.width("auto");I=Math.max.apply(Math,L[E][N].item.map(function(){return n(this).outerWidth(true)}).get())}J.push(I/R)}else{if(L[E][N].x.indexOf("auto")!==-1){if(L[E][N].item){L[E][N].item.width("auto");I=Math.max.apply(Math,L[E][N].item.map(function(){return n(this).outerWidth(true)}).get())}H.push(I)}}}O[N]=Math.max.apply(Math,J);K[N]=Math.max.apply(Math,H)}var P=Math.max.apply(Math,O);var F=[];var Q=G;for(var N=0;N<L[0].length;N++){if(L[0][N].x.indexOf("fr")!==-1){var R=parseFloat(L[0][N].x);F.push(R)}else{if(L[0][N].x.indexOf("px")!==-1){Q-=parseFloat(L[0][N].x)}}}Q-=p(K);var M=p(F);for(var E=0;E<L.length;E++){for(var N=0;N<L[0].length;N++){if(L[E][N].x.indexOf("fr")!==-1){L[E][N].frX=L[E][N].x;if(Q>0){L[E][N].x=""+Q/(M/parseFloat(L[E][N].x))}else{L[E][N].x=""+0}}else{if(L[E][N].x.indexOf("auto")!==-1){L[E][N].frX=L[E][N].x;L[E][N].x=""+K[N]}}}}return(Q<0)?G+Math.abs(Q):G}function C(Q,K){var I=[];var R=[];for(var F=0;F<K.length;F++){var O=[0];var J=[0];for(var M=0;M<K[0].length;M++){var E=0;if(K[F][M].y.indexOf("fr")!==-1){var P=parseFloat(K[F][M].y);if(K[F][M].item){K[F][M].item.height("auto");E=Math.max.apply(Math,K[F][M].item.map(function(){return n(this).outerHeight(true)}).get())}O.push(E/P)}else{if(K[F][M].y.indexOf("auto")!==-1){if(K[F][M].item){K[F][M].item.height("auto");E=Math.max.apply(Math,K[F][M].item.map(function(){return n(this).outerHeight(true)}).get())}J.push(E)}}}I[F]=Math.max.apply(Math,O);R[F]=Math.max.apply(Math,J)}var H=Math.max.apply(Math,I);var G=[];var N=Q;for(var F=0;F<K.length;F++){if(K[F][0].y.indexOf("fr")!==-1){var P=parseFloat(K[F][0].y);G.push(P)}else{if(K[F][0].y.indexOf("px")!==-1){N-=parseFloat(K[F][0].y)}}}N-=p(R);var L=p(G);for(var M=0;M<K[0].length;M++){for(var F=0;F<K.length;F++){if(K[F][M].y.indexOf("fr")!==-1){K[F][M].frY=K[F][M].y;if(N>0){K[F][M].y=""+N/(L/parseFloat(K[F][M].y))}else{K[F][M].y=""+0}}else{if(K[F][M].y.indexOf("auto")!==-1){K[F][M].frY=K[F][M].y;K[F][M].y=""+R[F]}}}}return(N<0)?Q+Math.abs(N):Q}function w(S,L){var I=[];var T=[];for(var F=0;F<L.length;F++){var Q=[0];var J=[0];for(var O=0;O<L[0].length;O++){var E=0;if(L[F][O].y.indexOf("fr")!==-1){var R=parseFloat(L[F][O].y);if(L[F][O].item){L[F][O].item.height("auto");E=Math.max.apply(Math,L[F][O].item.map(function(){return n(this).outerHeight(true)}).get())}Q.push(E/R)}else{if(L[F][O].y.indexOf("auto")!==-1){if(L[F][O].item){L[F][O].item.height("auto");E=Math.max.apply(Math,L[F][O].item.map(function(){return n(this).outerHeight(true)}).get())}J.push(E)}}}I[F]=Math.max.apply(Math,Q);T[F]=Math.max.apply(Math,J)}var H=Math.max.apply(Math,I);var G=[];var N=S;var P=0;var K=0;for(var F=0;F<L.length;F++){if(L[F][0].y.indexOf("fr")!==-1){var R=parseFloat(L[F][0].y);G.push(R);P+=H*R}else{if(L[F][0].y.indexOf("px")!==-1){N-=parseFloat(L[F][0].y)}else{if(L[F][0].y.indexOf("auto")!==-1){K+=T[F]}}}}N+=P;var M=p(G);for(var O=0;O<L[0].length;O++){for(var F=0;F<L.length;F++){if(L[F][O].y.indexOf("fr")!==-1){L[F][O].frY=L[F][O].y;L[F][O].y=""+N/(M/parseFloat(L[F][O].y))}else{if(L[F][O].y.indexOf("auto")!==-1){L[F][O].frY=L[F][O].y;L[F][O].y=""+T[F]}}}}return S+P+K}function A(G,E){var F;n.each(G,function(H,I){if(I.selector==E){F=I.attributes;return false}});return n.extend(true,{},F)}function u(E,K,H,G,F){K--;H--;var J={x:0,y:0};for(var I=0;I<G;I++){if(/^\d+(\.\d+)?(px)?$/.test(E[K+I][H].y)){J.y+=parseFloat(E[K+I][H].y)}}for(var L=0;L<F;L++){if(/^\d+(\.\d+)?(px)?$/.test(E[K][H+L].x)){J.x+=parseFloat(E[K][H+L].x)}}return J}function s(F){var G;if((G=n.inArray(F.get(0),c))!==-1){return a[G].slice(0)}var L=[];var K=document.styleSheets;for(var J=0,E=K.length;J<E;J++){var M=K[J].cssRules;for(var G=0,I=M.length;G<I;G++){try{if(F.is(M[G].selectorText)){L.push(M[G].selectorText)}}catch(H){}}}c.push(F.get(0));a.push(L);return L.slice(0)}})})(jQuery);