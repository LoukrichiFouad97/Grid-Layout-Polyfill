/* Grid Layout Polyfill - v1.20.0 - 2014-03-13 - Polyfill for IE10 grid layout -ms-grid.
* https://github.com/codler/Grid-Layout-Polyfill
* Copyright (c) 2014 Han Lin Yap http://yap.nu; MIT license */
(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());(function(){var g=document.styleSheets;var e=[];var a=[];var d=/(^|\s)(?:\w+)/g;var f=/\.[\w\d_-]+/g;var c=/#[\w\d_-]+/g;var b=CSSAnalyzer={specificity:function(h){var j=h.match(d);var l=j?j.length:0;j=h.match(f);var k=j?j.length:0;j=h.match(c);var i=j?j.length:0;return l+10*k+100*i},sortSpecificity:function(i,h){if(i.specificity<h.specificity){return -1}else{if(i.specificity>h.specificity){return 1}else{return 0}}},each:function(i,j){for(var h in i){if(i.hasOwnProperty(h)){j.call(i,h,i[h])}}},indexOf:function(m,k){if(m==null){return -1}var j=0,h=m.length;for(;j<h;j++){if(m[j]===k){return j}}return -1},trim:function(h){return(h==null)?"":"".trim.call(h)},clean:function(h){if(typeof h!=="string"){return""}h=h.replace(/\/\*((?:[^\*]|\*[^\/])*)\*\//g,"");h=h.replace(/\n/g,"");h=h.replace(/\r/g,"");h=h.replace(/\@import[^;]*;/g,"");return h},textToObj:function(p){p=b.clean(p);var k=p.split(/({[^{}]*})/);if(k[k.length-1].indexOf("}")==-1){k.pop()}var l=[];var h=false;var q;var n=0;var o;var m=0;while(m<k.length){if(m%2===0){var j=b.trim(k[m]);if(h){if(j.indexOf("}")!=-1){j=j.substr(1);k[m]=j;o=k.splice(n,m-n);o.shift();o.unshift(q[1]);l[l.length-1].attributes=b.textToObj(o.join(""));h=false;m=n;continue}}else{if(j.indexOf("{")!=-1){q=j.split("{");j=b.trim(q[0]);h=true;n=m}if(j!==""){l.push({selector:j})}}}else{if(!h){l[l.length-1].attributes=b.textAttrToObj(k[m].substr(1,k[m].length-2))}}m++}return l},textAttrToObj:function(p){p=b.clean(p);if(!p){return{}}var m;p=p.replace(/url\(([^)]+)\)/g,function(i){return i.replace(/;/g,"[CSSAnalyzer]")});m=p.split(/(:[^;]*;?)/);m.pop();var k={};for(var j=0,h=m.length;j<h;j++){if(j%2==1){var o=b.trim(m[j-1]);var n=m[j];k[o]=b.trim(n.substr(1).replace(";","").replace(/url\(([^)]+)\)/g,function(i){return i.replace(/\[CSSAnalyzer\]/g,";")}))}}return k},objToText:function(j,i,h){var k="";i=i||false;h=h||1;j.forEach(function(l){if(i){k+=Array(h).join("  ")}k+=l.selector+"{";if(Array.isArray(l.attributes)){if(i){k+="\r\n"+Array(h).join("  ")}k+=b.objToText(l.attributes,i,h+1)}else{b.each(l.attributes,function(n,m){if(i){k+="\r\n"+Array(h+1).join("  ")}k+=n+":"+m+";"});if(i){k+="\r\n"+Array(h).join("  ")}}k+="}";if(i){k+="\r\n"}});return k},objToTextAttr:function(j,i,h){var k="";i=i||false;h=h||1;b.each(j,function(m,l){if(i){k+="\r\n"+Array(h+1).join("  ")}k+=m+":"+l+";"});return k},findDefinedSelectors:function(m){var l;if((l=e.indexOf(m))!==-1){return a[l].slice(0)}var k=[];for(var h=0,j=g.length;h<j;h++){var p=g[h].cssRules;if(p){for(var l=0,o=p.length;l<o;l++){try{if(b.indexOf(document.querySelectorAll(p[l].selectorText),m)!==-1){k.push({selector:p[l].selectorText,specificity:b.specificity(p[l].selectorText)})}}catch(n){}}}}k.sort(b.sortSpecificity);e.push(m);a.push(k);return k.slice(0)}}})();(function(d){if(d.gridLayout){return}d.support.gridLayout=document.createElement("div").style.msGridRowAlign==="";var a="function"!==typeof Array.prototype.reduce;var f=[];var e=[];if(d.support.gridLayout||a){d.fn.gridLayout=function(){return this};d.gridLayout=d.noop();return}var b=console.log.bind(console);var c=[];d.gridLayout=function(g){if(g=="clearCache"){cacheFindDefinedSelectorsKey=[];cacheFindDefinedSelectors=[];f=[];e=[]}else{return c}};jQuery(function(n){n.fn.gridLayout=function(A){return this.each(function(){var B=this;if(A=="refresh"){var C=false;n.each(c,function(D,E){n(E.selector).each(function(){if(B==this){if(!E.hasInit){y(u,E)}k(E.tracks);var G=true;if(n(E.selector).data("recent-height")){var F=n(E.selector).data("recent-height");if(parseFloat(n(E.selector).outerHeight())!=F){G=false;n(E.selector).each(function(){var I=n(this);var H=g(u,I,CSSAnalyzer.textAttrToObj(I.data("old-style")));var J=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(H.height&&!J.height){J.height=H.height}n(this).data("old-style",CSSAnalyzer.objToTextAttr(J))})}}x(B,E);C=true;return false}});if(C){return false}})}else{if(typeof A==="object"){if(A.resize){n(B).on("gridlayoutresize",function(){A.resize.call(B)})}}}})};function x(F,G){var D=n(G.selector).outerHeight();var B=s(G.tracks,1,1,G.tracks.length,G.tracks[0].length);n(G.selector).css({position:"relative","box-sizing":"border-box",width:(G.attributes.display=="-ms-grid"||G.attributes.display=="grid")?"auto":B.x,height:B.y});n(G.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:G.tracks[0][0].x,height:G.tracks[0][0].y}).each(function(K,L){var H=n(this);var J=g(u,H,CSSAnalyzer.textAttrToObj(H.data("old-style")));var Q=J["-ms-grid-row"]||1;var I=J["-ms-grid-column"]||1;var O=J["-ms-grid-column-span"]||1;var M=J["-ms-grid-row-span"]||1;var P=s(G.tracks,Q,I,M,O);var N=s(G.tracks,1,1,Q-1,I-1);n(this).css({width:P.x,})});i(n(G.selector).outerWidth(),G.tracks);var A=CSSAnalyzer.textAttrToObj(n(G.selector).data("old-style"));if(A.height&&/^\d+(\.\d+)?px$/.test(A.height)){var E=z(parseFloat(A.height),G.tracks);n(G.selector).css({height:E});n(G.selector).data("recent-height",E)}else{if(A.height&&/^\d+(\.\d+)?%$/.test(A.height)){var C=c.filter(function(H){return !!n(G.selector).has(H.selector).length});C.forEach(function(J){var I=n(J.selector);var H=g(u,I,CSSAnalyzer.textAttrToObj(I.data("old-style")));J.oldAttributes=H;n(J.selector).height("auto");n(J.selector).gridLayout("refresh")});var E=z(D*parseFloat(A.height)/100,G.tracks);E=Math.min(E,D*parseFloat(A.height)/100);n(G.selector).css({height:E});n(G.selector).data("recent-height",E);C.forEach(function(I){var H=I.oldAttributes.height;n(I.selector).height(H)})}else{var E=t(n(G.selector).outerHeight(),G.tracks);n(G.selector).css({height:E});n(G.selector).data("recent-height",E)}}n(G.selector).children().each(function(K,L){var H=n(this);var J=g(u,H,CSSAnalyzer.textAttrToObj(H.data("old-style")));var Q=J["-ms-grid-row"]||1;var I=J["-ms-grid-column"]||1;var O=J["-ms-grid-column-span"]||1;var M=J["-ms-grid-row-span"]||1;var P=s(G.tracks,Q,I,M,O);var N=s(G.tracks,1,1,Q-1,I-1);n(this).css({top:N.y,left:N.x,width:P.x,height:P.y})})}function k(A){for(var B=0;B<A.length;B++){for(var C=0;C<A[B].length;C++){if(A[B][C].frX){A[B][C].x=A[B][C].frX;delete A[B][C].frX}if(A[B][C].frY){A[B][C].y=A[B][C].frY;delete A[B][C].frY}}}}var o=function(A){return A.reduce(function(C,B){return parseFloat(C)+parseFloat(B)},0)};var q=n("style").map(function(){return n(this).html()}).get().join("");var u=CSSAnalyzer.textToObj(q);c=h(u);n.expr[":"]["has-style"]=n.expr.createPseudo(function(A){return function(E){var C=CSSAnalyzer.textAttrToObj(n(E).attr("style"));var B=CSSAnalyzer.textAttrToObj(A);var D=false;n.each(C,function(F,G){n.each(B,function(I,H){if(F==I&&G==H){D=true;return false}});if(D){return false}});return D}});n('[style]:has-style("display:-ms-grid"), [style]:has-style("display:grid"), [data-ms-grid]').each(function(){var A=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(!A.display){A.display="-ms-grid"}c.push({selector:this,attributes:A,tracks:l(this,A)})});function h(B){var A=[];n.each(B,function(C,D){if(D.attributes){if(D.attributes.display=="-ms-grid"||D.attributes.display=="grid"){A.push({selector:D.selector,attributes:D.attributes,tracks:l(D.selector,D.attributes)})}}});return A}function l(A,C){var E=C["-ms-grid-columns"]||"auto";var D=C["-ms-grid-rows"]||"auto";E=E.toLowerCase().split(" ");D=D.toLowerCase().split(" ");n(A).children().each(function(I,L){var G=n(this);var F=g(u,G,CSSAnalyzer.textAttrToObj(G.attr("style")));var M=F["-ms-grid-row"]||1;var K=F["-ms-grid-column"]||1;var H=F["-ms-grid-column-span"]||1;var J=F["-ms-grid-row-span"]||1;if(E.length<K){E[K]="auto"}if(E.length<(K-1)+H){E[(K-1)+H]="auto"}if(D.length<M){D[M]="auto"}if(D.length<(M-1)+J){D[(M-1)+J]="auto"}});var B=[];n.each(D,function(F,G){B[F]=[];n.each(E,function(I,H){B[F][I]={x:(typeof H!=="undefined"&&v(H))?H:"auto",y:(typeof G!=="undefined"&&v(G))?G:"auto"}})});n(A).children().each(function(H,J){var G=n(this);var F=g(u,G,CSSAnalyzer.textAttrToObj(G.attr("style")));var K=F["-ms-grid-row"]||1;var I=F["-ms-grid-column"]||1;if(B[K-1][I-1].item){B[K-1][I-1].item=B[K-1][I-1].item.add(G)}else{B[K-1][I-1].item=G}});return B}function v(A){return/^(\d+(\.\d+)?(fr|px)|auto)$/.test(A)}function y(A,B){n(B.selector).each(function(){if(!n(this).data("old-style")){var D=n(this);var C=g(A,D,CSSAnalyzer.textAttrToObj(D.data("old-style")));var E=CSSAnalyzer.textAttrToObj(n(this).attr("style"));if(C.width&&!E.width){E.width=C.width}if(C.height&&!E.height){E.height=C.height}n(this).data("old-style",CSSAnalyzer.objToTextAttr(E))}});n(B.selector).children().each(function(){if(!n(this).data("old-style")){n(this).data("old-style",n(this).attr("style"))}});B.hasInit=true}var p=function(B,A){return n(B.selector).parents().length-n(A.selector).parents().length};c.sort(p);n.each(c,function(A,B){y(u,B);x(n(B.selector),B)});var j;function m(){n.each(c,function(A,B){n(B.selector).gridLayout("refresh").trigger("gridlayoutresize")})}function r(){return n(document).height()>n(window).height()}n(window).on("resize",function(B,C){var A=this;clearTimeout(j);j=setTimeout(function(){var D=false;if(r()){D=true}m();if(!r()&&D){n(A).trigger("resize")}},100)});function i(C,H){var K=[];var G=[];for(var J=0;J<H[0].length;J++){var F=[0];var D=[0];for(var A=0;A<H.length;A++){var E=0;if(H[A][J].x.indexOf("fr")!==-1){var N=parseFloat(H[A][J].x);if(H[A][J].item){H[A][J].item.width("auto");E=Math.max.apply(Math,H[A][J].item.map(function(){return n(this).outerWidth(true)}).get())}F.push(E/N)}else{if(H[A][J].x.indexOf("auto")!==-1){if(H[A][J].item){H[A][J].item.width("auto");E=Math.max.apply(Math,H[A][J].item.map(function(){return n(this).outerWidth(true)}).get())}D.push(E)}}}K[J]=Math.max.apply(Math,F);G[J]=Math.max.apply(Math,D)}var L=Math.max.apply(Math,K);var B=[];var M=C;for(var J=0;J<H[0].length;J++){if(H[0][J].x.indexOf("fr")!==-1){var N=parseFloat(H[0][J].x);B.push(N)}else{if(H[0][J].x.indexOf("px")!==-1){M-=parseFloat(H[0][J].x)}}}M-=o(G);var I=o(B);for(var A=0;A<H.length;A++){for(var J=0;J<H[0].length;J++){if(H[A][J].x.indexOf("fr")!==-1){H[A][J].frX=H[A][J].x;if(M>0){H[A][J].x=""+M/(I/parseFloat(H[A][J].x))}else{H[A][J].x=""+0}}else{if(H[A][J].x.indexOf("auto")!==-1){H[A][J].frX=H[A][J].x;H[A][J].x=""+G[J]}}}}return(M<0)?C+Math.abs(M):C}function z(M,G){var E=[];var N=[];for(var B=0;B<G.length;B++){var K=[0];var F=[0];for(var I=0;I<G[0].length;I++){var A=0;if(G[B][I].y.indexOf("fr")!==-1){var L=parseFloat(G[B][I].y);if(G[B][I].item){G[B][I].item.height("auto");A=Math.max.apply(Math,G[B][I].item.map(function(){return n(this).outerHeight(true)}).get())}K.push(A/L)}else{if(G[B][I].y.indexOf("auto")!==-1){if(G[B][I].item){G[B][I].item.height("auto");A=Math.max.apply(Math,G[B][I].item.map(function(){return n(this).outerHeight(true)}).get())}F.push(A)}}}E[B]=Math.max.apply(Math,K);N[B]=Math.max.apply(Math,F)}var D=Math.max.apply(Math,E);var C=[];var J=M;for(var B=0;B<G.length;B++){if(G[B][0].y.indexOf("fr")!==-1){var L=parseFloat(G[B][0].y);C.push(L)}else{if(G[B][0].y.indexOf("px")!==-1){J-=parseFloat(G[B][0].y)}}}J-=o(N);var H=o(C);for(var I=0;I<G[0].length;I++){for(var B=0;B<G.length;B++){if(G[B][I].y.indexOf("fr")!==-1){G[B][I].frY=G[B][I].y;if(J>0){G[B][I].y=""+J/(H/parseFloat(G[B][I].y))}else{G[B][I].y=""+0}}else{if(G[B][I].y.indexOf("auto")!==-1){G[B][I].frY=G[B][I].y;G[B][I].y=""+N[B]}}}}return(J<0)?M+Math.abs(J):M}function t(O,H){var E=[];var P=[];for(var B=0;B<H.length;B++){var M=[0];var F=[0];for(var K=0;K<H[0].length;K++){var A=0;if(H[B][K].y.indexOf("fr")!==-1){var N=parseFloat(H[B][K].y);if(H[B][K].item){H[B][K].item.height("auto");A=Math.max.apply(Math,H[B][K].item.map(function(){return n(this).outerHeight(true)}).get())}M.push(A/N)}else{if(H[B][K].y.indexOf("auto")!==-1){if(H[B][K].item){H[B][K].item.height("auto");A=Math.max.apply(Math,H[B][K].item.map(function(){return n(this).outerHeight(true)}).get())}F.push(A)}}}E[B]=Math.max.apply(Math,M);P[B]=Math.max.apply(Math,F)}var D=Math.max.apply(Math,E);var C=[];var J=O;var L=0;var G=0;for(var B=0;B<H.length;B++){if(H[B][0].y.indexOf("fr")!==-1){var N=parseFloat(H[B][0].y);C.push(N);L+=D*N}else{if(H[B][0].y.indexOf("px")!==-1){J-=parseFloat(H[B][0].y)}else{if(H[B][0].y.indexOf("auto")!==-1){G+=P[B]}}}}J+=L;var I=o(C);for(var K=0;K<H[0].length;K++){for(var B=0;B<H.length;B++){if(H[B][K].y.indexOf("fr")!==-1){H[B][K].frY=H[B][K].y;H[B][K].y=""+J/(I/parseFloat(H[B][K].y))}else{if(H[B][K].y.indexOf("auto")!==-1){H[B][K].frY=H[B][K].y;H[B][K].y=""+P[B]}}}}return O+L+G}function g(F,E,A){A=A||{};var D;if((D=f.indexOf(E.get(0)))!==-1){return n.extend(true,{},e[D],A)}var C=CSSAnalyzer.findDefinedSelectors(E.get(0));var B=w(F,C);f.push(E.get(0));e.push(B);return n.extend(true,{},B,A)}function w(C,A){var B={};n.each(A,function(E,D){n.each(C,function(F,G){if(G.selector==D.selector){n.extend(true,B,G.attributes)}})});return B}function s(A,G,D,C,B){G--;D--;var F={x:0,y:0};for(var E=0;E<C;E++){if(/^\d+(\.\d+)?(px)?$/.test(A[G+E][D].y)){F.y+=parseFloat(A[G+E][D].y)}}for(var H=0;H<B;H++){if(/^\d+(\.\d+)?(px)?$/.test(A[G][D+H].x)){F.x+=parseFloat(A[G][D+H].x)}}return F}})})(jQuery);