/* Grid Layout Polyfill - v1.10.0 - 2013-04-08 - Polyfill for IE10 grid layout -ms-grid.
* https://github.com/codler/Grid-Layout-Polyfill
* Copyright (c) 2013 Han Lin Yap http://yap.nu; http://creativecommons.org/licenses/by-sa/3.0/ */
(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());function cleanCss(a){a=a.replace(/\/\*((?:[^\*]|\*[^\/])*)\*\//g,"");a=a.replace(/\n/g,"");a=a.replace(/\r/g,"");a=a.replace(/\@import[^;]*;/g,"");return a}function cssTextToObj(h){h=cleanCss(h);var c=h.split(/({[^{}]*})/);if(c[c.length-1].indexOf("}")==-1){c.pop()}var d=[];var a=false;var j;var f=0;var g;var e=0;while(e<c.length){if(e%2===0){var b=$.trim(c[e]);if(a){if(b.indexOf("}")!=-1){b=b.substr(1);c[e]=b;g=c.splice(f,e-f);g.shift();g.unshift(j[1]);d[d.length-1].attributes=cssTextToObj(g.join(""));a=false;e=f;continue}}else{if(b.indexOf("{")!=-1){j=b.split("{");b=$.trim(j[0]);a=true;f=e}if(b!==""){d.push({selector:b})}}}else{if(!a){d[d.length-1].attributes=cssTextAttributeToObj(c[e].substr(1,c[e].length-2))}}e++}return d}function cssTextAttributeToObj(c){if(typeof c!="string"){c=""}c=cleanCss(c);var b;c=c.replace(/url\(([^)]+)\)/g,function(d){return d.replace(/;/g,"[cssFinalize]")});b=c.split(/(:[^;]*;?)/);b.pop();var a={};$.map(b,function(e,d){if(d%2==1){a[$.trim(b[d-1])]=$.trim(e.substr(1).replace(";","").replace(/url\(([^)]+)\)/g,function(f){return f.replace(/\[cssFinalize\]/g,";")}))}});return a}function cssObjToText(c,b,a){var d="";b=b||false;a=a||1;$.each(c,function(e,f){if(b){d+=Array(a).join("  ")}d+=f.selector+"{";if($.isArray(f.attributes)){if(b){d+="\r\n"+Array(a).join("  ")}d+=$.cssFinalize.cssObjToText(f.attributes,b,a+1)}else{$.each(f.attributes,function(h,g){if(b){d+="\r\n"+Array(a+1).join("  ")}d+=h+":"+g+";"});if(b){d+="\r\n"+Array(a).join("  ")}}d+="}";if(b){d+="\r\n"}});return d}function cssObjToTextAttribute(c,b,a){var d="";b=b||false;a=a||1;$.each(c,function(f,e){if(b){d+="\r\n"+Array(a+1).join("  ")}d+=f+":"+e+";"});return d}(function(c){c.support.gridLayout=document.createElement("div").style.msGridRowAlign==="";var a="function"!==typeof Array.prototype.reduce;if(c.support.gridLayout||a){c.fn.gridLayout=function(){return this};return}function b(d){console.log(d);console.trace()}jQuery(function(l){l.fn.gridLayout=function(A){return this.each(function(){var B=this;if(A=="refresh"){var C=false;l.each(k,function(D,E){l(E.selector).each(function(){if(B==this){x(B,E);C=true;return false}});if(C){return false}})}else{if(typeof A==="object"){if(A.resize){l(B).on("gridlayoutresize",function(){A.resize.call(B)})}}}})};function x(E,F){g(F.tracks);var D=true;if(l(F.selector).data("recent-height")){var B=l(F.selector).data("recent-height");if(parseFloat(l(F.selector).outerHeight())!=B){D=false;l(F.selector).each(function(){var I=l(this);var J=p(I);J.sort(j);var H=w(u,J.pop());var G=cssTextAttributeToObj(I.data("old-style")||I.attr("style"));if(G.height){H=l.extend(true,H,G)}var K=cssTextAttributeToObj(l(this).attr("style"));if(H){if(H.height&&!K.height){K.height=H.height}}l(this).data("old-style",cssObjToTextAttribute(K))})}}var A=r(F.tracks,1,1,F.tracks.length,F.tracks[0].length);l(F.selector).css({position:"relative","box-sizing":"border-box",width:(F.attributes.display=="-ms-grid")?"100%":A.x,height:A.y});l(F.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:F.tracks[0][0].x,height:F.tracks[0][0].y}).each(function(J,K){var G=l(this);var O=p(G);O.sort(j);var I=w(u,O.pop());var N=cssTextAttributeToObj(G.data("old-style")||G.attr("style"));if(N["-ms-grid-row"]||N["-ms-grid-column"]||N["-ms-grid-column-span"]||N["-ms-grid-row-span"]){I=l.extend(true,I,N)}if(!I){return true}var R=I["-ms-grid-row"]||1;var H=I["-ms-grid-column"]||1;var P=I["-ms-grid-column-span"]||1;var L=I["-ms-grid-row-span"]||1;var Q=r(F.tracks,R,H,L,P);var M=r(F.tracks,1,1,R-1,H-1);l(this).css({width:Q.x,})});e(l(F.selector).outerWidth(),F.tracks);if(cssTextAttributeToObj(l(F.selector).data("old-style")).height){var C=y(parseFloat(cssTextAttributeToObj(l(F.selector).data("old-style")).height),F.tracks);l(F.selector).css({height:C});l(F.selector).data("recent-height",C)}else{var C=t(l(F.selector).outerHeight(),F.tracks);l(F.selector).css({height:C});l(F.selector).data("recent-height",C)}l(F.selector).children().each(function(J,K){var G=l(this);var O=p(G);O.sort(j);var I=w(u,O.pop());var N=cssTextAttributeToObj(G.data("old-style")||G.attr("style"));if(N["-ms-grid-row"]||N["-ms-grid-column"]||N["-ms-grid-column-span"]||N["-ms-grid-row-span"]){I=l.extend(true,I,N)}if(!I){return true}var R=I["-ms-grid-row"]||1;var H=I["-ms-grid-column"]||1;var P=I["-ms-grid-column-span"]||1;var L=I["-ms-grid-row-span"]||1;var Q=r(F.tracks,R,H,L,P);var M=r(F.tracks,1,1,R-1,H-1);l(this).css({top:M.y,left:M.x,width:Q.x,height:Q.y})})}function g(A){for(var B=0;B<A.length;B++){for(var C=0;C<A[B].length;C++){if(A[B][C].frX){A[B][C].x=A[B][C].frX;delete A[B][C].frX}if(A[B][C].frY){A[B][C].y=A[B][C].frY;delete A[B][C].frY}}}}var s=/(^|\s)(?:\w+)/g;var v=/\.[\w\d_-]+/g;var z=/#[\w\d_-]+/g;var m=function(A){var C=A.match(s);var E=C?C.length:0;C=A.match(v);var D=C?C.length:0;C=A.match(z);var B=C?C.length:0;return E+10*D+100*B};var j=function(B,A){B=m(B);A=m(A);if(B<A){return -1}else{if(B>A){return 1}else{return 0}}};var n=function(A){return A.reduce(function(C,B){return parseFloat(C)+parseFloat(B)},0)};var o=l("style").map(function(){return l(this).html()}).get().join("");var u=cssTextToObj(o);var k=d(u);l.expr[":"]["has-style"]=l.expr.createPseudo(function(A){return function(E){var C=cssTextAttributeToObj(l(E).attr("style"));var B=cssTextAttributeToObj(A);var D=false;l.each(C,function(F,G){l.each(B,function(I,H){if(F==I&&G==H){D=true;return false}});if(D){return false}});return D}});l('[style]:has-style("display:-ms-grid"), [data-ms-grid]').each(function(){var A=cssTextAttributeToObj(l(this).attr("style"));if(!A.display){A.display="-ms-grid"}k.push({selector:this,attributes:A,tracks:h(this,A)})});function d(B){var A=[];l.each(B,function(C,D){if(D.attributes){if(D.attributes.display=="-ms-grid"){A.push({selector:D.selector,attributes:D.attributes,tracks:h(D.selector,D.attributes)})}}});return A}function h(A,C){var E=C["-ms-grid-columns"]||"auto";var D=C["-ms-grid-rows"]||"auto";E=E.toLowerCase().split(" ");D=D.toLowerCase().split(" ");l(A).children().each(function(I,J){var F=l(this);var M=p(F);M.sort(j);var H=w(u,M.pop());var L=cssTextAttributeToObj(F.attr("style"));if(L["-ms-grid-row"]||L["-ms-grid-column"]||L["-ms-grid-column-span"]||L["-ms-grid-row-span"]){H=l.extend(true,H,L)}if(!H){return true}var O=H["-ms-grid-row"]||1;var G=H["-ms-grid-column"]||1;var N=H["-ms-grid-column-span"]||1;var K=H["-ms-grid-row-span"]||1;if(E.length<G){E[G]="auto"}if(E.length<(G-1)+N){E[(G-1)+N]="auto"}if(D.length<O){D[O]="auto"}if(D.length<(O-1)+K){D[(O-1)+K]="auto"}});var B=[];l.each(D,function(F,G){B[F]=[];l.each(E,function(I,H){B[F][I]={x:(typeof H!=="undefined")?H:"auto",y:(typeof G!=="undefined")?G:"auto"}})});return B}b(k);l.each(k,function(C,D){var A=r(D.tracks,1,1,D.tracks.length,D.tracks[0].length);l(D.selector).each(function(){if(!l(this).data("old-style")){var G=l(this);var H=p(G);H.sort(j);var F=w(u,H.pop());var E=cssTextAttributeToObj(G.data("old-style")||G.attr("style"));if(E.width||E.height){F=l.extend(true,F,E)}var I=cssTextAttributeToObj(l(this).attr("style"));if(F){if(F.width&&!I.width){I.width=F.width}if(F.height&&!I.height){I.height=F.height}}l(this).data("old-style",cssObjToTextAttribute(I))}});l(D.selector).css({position:"relative","box-sizing":"border-box",width:(D.attributes.display=="-ms-grid")?"100%":A.x,height:A.y});l(D.selector).children().each(function(){if(!l(this).data("old-style")){l(this).data("old-style",l(this).attr("style"))}});l(D.selector).children().css({"box-sizing":"border-box",position:"absolute",top:0,left:0,width:D.tracks[0][0].x,height:D.tracks[0][0].y}).each(function(I,K){var G=l(this);var H=p(G);H.sort(j);var F=w(u,H.pop());var E=cssTextAttributeToObj(G.data("old-style")||G.attr("style"));if(E["-ms-grid-row"]||E["-ms-grid-column"]){F=l.extend(true,F,E)}if(!F){return true}var L=F["-ms-grid-row"]||1;var J=F["-ms-grid-column"]||1;if(D.tracks[L-1][J-1].item){D.tracks[L-1][J-1].item.add(G)}else{D.tracks[L-1][J-1].item=G}});l(D.selector).children().each(function(H,I){var E=l(this);var M=p(E);M.sort(j);var G=w(u,M.pop());var L=cssTextAttributeToObj(E.data("old-style")||E.attr("style"));if(L["-ms-grid-row"]||L["-ms-grid-column"]||L["-ms-grid-column-span"]||L["-ms-grid-row-span"]){G=l.extend(true,G,L)}if(!G){return true}var P=G["-ms-grid-row"]||1;var F=G["-ms-grid-column"]||1;var N=G["-ms-grid-column-span"]||1;var J=G["-ms-grid-row-span"]||1;var O=r(D.tracks,P,F,J,N);var K=r(D.tracks,1,1,P-1,F-1);l(this).css({width:O.x,})});e(l(D.selector).outerWidth(),D.tracks);if(cssTextAttributeToObj(l(D.selector).data("old-style")).height){var B=y(parseFloat(cssTextAttributeToObj(l(D.selector).data("old-style")).height),D.tracks);l(D.selector).css({height:B});l(D.selector).data("recent-height",B)}else{var B=t(l(D.selector).outerHeight(),D.tracks);l(D.selector).css({height:B});l(D.selector).data("recent-height",B)}l(D.selector).children().each(function(H,I){var E=l(this);var M=p(E);M.sort(j);var G=w(u,M.pop());var L=cssTextAttributeToObj(E.data("old-style")||E.attr("style"));if(L["-ms-grid-row"]||L["-ms-grid-column"]||L["-ms-grid-column-span"]||L["-ms-grid-row-span"]){G=l.extend(true,G,L)}if(!G){return true}var P=G["-ms-grid-row"]||1;var F=G["-ms-grid-column"]||1;var N=G["-ms-grid-column-span"]||1;var J=G["-ms-grid-row-span"]||1;var O=r(D.tracks,P,F,J,N);var K=r(D.tracks,1,1,P-1,F-1);l(this).css({top:K.y,left:K.x,width:O.x,height:O.y})})});var f;function i(){l.each(k,function(A,B){l(B.selector).gridLayout("refresh").trigger("gridlayoutresize")})}function q(){return l(document).height()>l(window).height()}l(window).on("resize",function(B,C){var A=this;clearTimeout(f);f=setTimeout(function(){var D=false;if(q()){D=true}i();if(!q()&&D){l(A).trigger("resize")}},100)});function e(C,H){var K=[];var G=[];for(var J=0;J<H[0].length;J++){var F=[0];var D=[0];for(var A=0;A<H.length;A++){var E=0;if(H[A][J].x.indexOf("fr")!==-1){var N=parseFloat(H[A][J].x);if(H[A][J].item){H[A][J].item.width("auto");E=Math.max.apply(Math,H[A][J].item.map(function(){return l(this).outerWidth(true)}).get())}F.push(E/N)}else{if(H[A][J].x.indexOf("auto")!==-1){if(H[A][J].item){H[A][J].item.width("auto");E=Math.max.apply(Math,H[A][J].item.map(function(){return l(this).outerWidth(true)}).get())}D.push(E)}}}K[J]=Math.max.apply(Math,F);G[J]=Math.max.apply(Math,D)}var L=Math.max.apply(Math,K);var B=[];var M=C;for(var J=0;J<H[0].length;J++){if(H[0][J].x.indexOf("fr")!==-1){var N=parseFloat(H[0][J].x);B.push(N)}else{if(H[0][J].x.indexOf("px")!==-1){M-=parseFloat(H[0][J].x)}}}M-=n(G);var I=n(B);for(var A=0;A<H.length;A++){for(var J=0;J<H[0].length;J++){if(H[A][J].x.indexOf("fr")!==-1){H[A][J].frX=H[A][J].x;if(M>0){H[A][J].x=""+M/(I/parseFloat(H[A][J].x))}else{H[A][J].x=""+0}}else{if(H[A][J].x.indexOf("auto")!==-1){H[A][J].frX=H[A][J].x;H[A][J].x=""+G[J]}}}}return(M<0)?C+Math.abs(M):C}function y(M,G){var E=[];var N=[];for(var B=0;B<G.length;B++){var K=[0];var F=[0];for(var I=0;I<G[0].length;I++){var A=0;if(G[B][I].y.indexOf("fr")!==-1){var L=parseFloat(G[B][I].y);if(G[B][I].item){G[B][I].item.height("auto");A=Math.max.apply(Math,G[B][I].item.map(function(){return l(this).outerHeight(true)}).get())}K.push(A/L)}else{if(G[B][I].y.indexOf("auto")!==-1){if(G[B][I].item){G[B][I].item.height("auto");A=Math.max.apply(Math,G[B][I].item.map(function(){return l(this).outerHeight(true)}).get())}F.push(A)}}}E[B]=Math.max.apply(Math,K);N[B]=Math.max.apply(Math,F)}var D=Math.max.apply(Math,E);var C=[];var J=M;for(var B=0;B<G.length;B++){if(G[B][0].y.indexOf("fr")!==-1){var L=parseFloat(G[B][0].y);C.push(L)}else{if(G[B][0].y.indexOf("px")!==-1){J-=parseFloat(G[B][0].y)}}}J-=n(N);var H=n(C);for(var I=0;I<G[0].length;I++){for(var B=0;B<G.length;B++){if(G[B][I].y.indexOf("fr")!==-1){G[B][I].frY=G[B][I].y;if(J>0){G[B][I].y=""+J/(H/parseFloat(G[B][I].y))}else{G[B][I].y=""+0}}else{if(G[B][I].y.indexOf("auto")!==-1){G[B][I].frY=G[B][I].y;G[B][I].y=""+N[B]}}}}return(J<0)?M+Math.abs(J):M}function t(O,H){var E=[];var P=[];for(var B=0;B<H.length;B++){var M=[0];var F=[0];for(var K=0;K<H[0].length;K++){var A=0;if(H[B][K].y.indexOf("fr")!==-1){var N=parseFloat(H[B][K].y);if(H[B][K].item){H[B][K].item.height("auto");A=Math.max.apply(Math,H[B][K].item.map(function(){return l(this).outerHeight(true)}).get())}M.push(A/N)}else{if(H[B][K].y.indexOf("auto")!==-1){if(H[B][K].item){H[B][K].item.height("auto");A=Math.max.apply(Math,H[B][K].item.map(function(){return l(this).outerHeight(true)}).get())}F.push(A)}}}E[B]=Math.max.apply(Math,M);P[B]=Math.max.apply(Math,F)}var D=Math.max.apply(Math,E);var C=[];var J=O;var L=0;var G=0;for(var B=0;B<H.length;B++){if(H[B][0].y.indexOf("fr")!==-1){var N=parseFloat(H[B][0].y);C.push(N);L+=D*N}else{if(H[B][0].y.indexOf("px")!==-1){J-=parseFloat(H[B][0].y)}else{if(H[B][0].y.indexOf("auto")!==-1){G+=P[B]}}}}J+=L;var I=n(C);for(var K=0;K<H[0].length;K++){for(var B=0;B<H.length;B++){if(H[B][K].y.indexOf("fr")!==-1){H[B][K].frY=H[B][K].y;H[B][K].y=""+J/(I/parseFloat(H[B][K].y))}else{if(H[B][K].y.indexOf("auto")!==-1){H[B][K].frY=H[B][K].y;H[B][K].y=""+P[B]}}}}return O+L+G}function w(C,A){var B;l.each(C,function(D,E){if(E.selector==A){B=E.attributes;return false}});return l.extend(true,{},B)}function r(A,G,D,C,B){G--;D--;var F={x:0,y:0};for(var E=0;E<C;E++){if(/^\d+(\.\d+)?(px)?$/.test(A[G+E][D].y)){F.y+=parseFloat(A[G+E][D].y)}}for(var H=0;H<B;H++){if(/^\d+(\.\d+)?(px)?$/.test(A[G][D+H].x)){F.x+=parseFloat(A[G][D+H].x)}}return F}function p(D){var C=[];for(var A=0;A<document.styleSheets.length;A++){var F=document.styleSheets[A].cssRules;for(var B=0;B<F.length;B++){try{if(D.is(F[B].selectorText)){C.push(F[B].selectorText)}}catch(E){}}}return C}})})(jQuery);